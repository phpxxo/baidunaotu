{"root":{"data":{"id":"81fb096e5e3f","created":1523280060,"text":"liunx"},"children":[{"data":{"id":"bkmtq5hjvyw0","created":1523280091713,"text":"用户相关","expandState":"expand","layout":null},"children":[{"data":{"id":"bkmtqbdw6sg0","created":1523280104553,"text":"切换用户","note":null,"expandState":"expand","layout":null},"children":[{"data":{"id":"bknnp1t9gm80","created":1523364638647,"text":"su [-][用户名]","layout":null,"note":"不写用户名表示切换到root\n\n加- 表示深切换 带上新用户的环境\n初始目录为新用户家目录\n\n不加- 表示浅切换\n\nsu 含义:switch user\n\n"},"children":[]},{"data":{"id":"bknnpbc9gs80","created":1523364659387,"text":"sudo root/su(切换root管理员)","layout":null,"note":"sudo 解决的问题:\n有时候, 需要普通用户能像root一样有权限执行一些操作, 但是又不便于告诉普通用户root用户的密码, 于是产生了sudo,\nsudo 原理是root用户在/etc/sudoers文件添加用户允许的操作, 然后执行sudo时,输入本用户密码,会检测/etc/sudoers中权限, 如果允许就会以root的身份去执行命令\n\nsudo 英文: supper user do\n\nsudo 的权限检验文件 /etc/sudoers\n例:\nroot ALL=(ALL) ALL\n表示:允许root用户在任何位置,运行任何命令\n\n\nsudo 创建的目录或文件,user ,group 都为root\n\n","expandState":"expand"},"children":[]}]},{"data":{"id":"bkmtqcy42q80","created":1523280107952,"text":"退出用户到上个用户 exit","layout":null,"note":"可退多"},"children":[]},{"data":{"id":"bm1gyo40d4w0","created":1528423642528,"text":"强制踢掉一个已登录用户: pkill -kill -t tty","note":"命令格式：pkill -kill -t tty\n解释：\npkill -kill -t 　踢人命令\ntty　所踢用户的tty\n比如： pkill -kill -t pts/2\n","layout":null},"children":[]},{"data":{"id":"bm0n9zk5ip40","created":1528339896157,"text":"配置文件","expandState":"expand","layout":null},"children":[{"data":{"id":"bm0nabpxt1c0","created":1528339922628,"text":"visudo ---配置/etc/sudoers","layout_left_offset":{"x":-5,"y":3},"note":"/etc/sudoers\n\n/etc/sudoers 文件编辑\n说明:编辑该文件推荐不要用vi 编辑, 而用visudo 命令来编辑, \n编辑完, 不要用source 执行, 它不属于source执行的类型, 该文件配置完就是生效的, 不需要做其它的操作\n\n\n","expandState":"expand","layout":null},"children":[{"data":{"id":"bm12toksahs0","created":1528383756183,"text":"常见配置","expandState":"expand","layout":null},"children":[{"data":{"id":"bm12trauk6w0","created":1528383762112,"text":"root ALL=(ALL) ALL","layout":null},"children":[]},{"data":{"id":"bm12u5wlphk0","created":1528383793903,"text":"%phper ALL=(ALL) ALL","note":"%开头的表示是组 \n","layout":null},"children":[]},{"data":{"id":"bm12uej9jjc0","created":1528383812687,"text":"%phper ALL=(ALL) NOPASSWD:ALL","note":"NOPASSWD:ALL \n表示所有该组用户使用sudo不用输入密码\n","layout":null},"children":[]},{"data":{"id":"bm13sss7o4g0","created":1528386508085,"text":"like ALL=(ALL) /bin/su -","note":"只允许执行su , 其它不允许, 一般是让它切换到root 上操作\n\n","layout":null},"children":[]},{"data":{"id":"bm13twvx09s0","created":1528386595380,"text":"user1 ALL=(ALL) /usr/sbin/useradd,/usr/sbin/usermod","note":"多个shell,用逗号分开\n\n命令的位置查询\n例: \nwhereis usermod","layout":null},"children":[]}]}]}]}]},{"data":{"id":"bknolv7oulc0","created":1523367210300,"text":"编辑器","layout":null,"expandState":"expand"},"children":[{"data":{"id":"bknom1195v40","created":1523367222971,"text":"nano","expandState":"expand","layout":null},"children":[{"data":{"id":"bknoncsfja00","created":1523367326923,"text":"yum install nano (安装nano)","note":null,"layout":null},"children":[]},{"data":{"id":"bknom5omtrs0","created":1523367233092,"text":"nano file_name (打开文本)","layout":null},"children":[]},{"data":{"id":"bknomr8hb940","created":1523367280004,"text":"快捷键","layout":null},"children":[{"data":{"id":"bknon0nkwi80","created":1523367300508,"text":"ctrl+w (查找)","layout":null},"children":[]},{"data":{"id":"bknop2q3u000","created":1523367461743,"text":"alt+w(查找下一个)","layout":null},"children":[]},{"data":{"id":"bknopasg9u80","created":1523367479299,"text":"ctrl+o(保存)","layout":null},"children":[]},{"data":{"id":"bknopgec5cg0","created":1523367491506,"text":"ctrl+x(退出)","layout":null},"children":[]}]},{"data":{"id":"bkr4qvz8kg80","created":1523717421415,"text":"alt+w 不能使用","note":"alt+w 不能使用问题:\n1)确定有没有软件快捷键冲突, 如QQ会冲突,关闭QQ或更改\n2)xshell 修改 文件->属性->键盘:\n把左alt 作为meta 键使用\n\n","layout":null},"children":[]}]},{"data":{"id":"blzxgpt5gc00","created":1528267074625,"text":"vi/vim","expandState":"expand","layout":null},"children":[{"data":{"id":"blzxh9ybo1c0","created":1528267118473,"text":"vi","expandState":"expand","layout":null},"children":[{"data":{"id":"blzxhc9ep8w0","created":1528267123497,"text":"操作","expandState":"expand","layout":null},"children":[{"data":{"id":"blzxhndqn5s0","created":1528267147704,"text":"启动 vi ","layout":null},"children":[]},{"data":{"id":"blzxhr2l05k0","created":1528267155736,"text":"启动并打开文件 vi file_name","layout":null},"children":[]},{"data":{"id":"blzxicmeyw00","created":1528267202648,"text":"三种模式","expandState":"expand","layout":null},"children":[{"data":{"id":"blzxigxqfkw0","created":1528267212039,"text":"插入模式 esc i","note":"进入插入模式i","expandState":"collapse","layout":null},"children":[{"data":{"id":"blzxqvdsur40","created":1528267870399,"text":"i","note":"在当前光标位置前插入\n","layout":null},"children":[]},{"data":{"id":"blzxr1p3e200","created":1528267884143,"text":"I","note":"会把光标定位到该行行首\n","layout":null},"children":[]},{"data":{"id":"blzxr4zhtbs0","created":1528267891302,"text":"a","note":"光标会向后移一位\n","layout":null},"children":[]},{"data":{"id":"blzxr756vvk0","created":1528267896000,"text":"A","note":"光标移动到该行 行尾\n","layout":null},"children":[]},{"data":{"id":"blzxr8gj9kg0","created":1528267898863,"text":"o","note":"在当前行下面插一空行\n","layout":null},"children":[]},{"data":{"id":"blzxra9mr600","created":1528267902799,"text":"O","note":"在当前行, 上面插一空行","layout":null},"children":[]},{"data":{"id":"blzxrbcj5yw0","created":1528267905151,"text":"s","note":"删除前一个字符\n","layout":null},"children":[]},{"data":{"id":"blzxrclnk880","created":1528267907879,"text":"S","note":"删除一行,留一个空行\n","layout":null},"children":[]}]},{"data":{"id":"blzxim2azeo0","created":1528267223200,"text":"命令模式 esc","note":"命令模式, 刚刚进入就是命令模式\n","expandState":"expand","layout":null},"children":[{"data":{"id":"blzxyu5ze400","created":1528268494663,"text":"移动光标","note":"四个箭头也可以\n\n","expandState":"expand","layout":null},"children":[{"data":{"id":"blzxywgsy8w0","created":1528268499671,"text":"左 h","layout":null},"children":[]},{"data":{"id":"blzy1fcunvk0","created":1528268697519,"text":"下 j","layout":null},"children":[]},{"data":{"id":"blzy1hqunw00","created":1528268702719,"text":"上 k","layout":null},"children":[]},{"data":{"id":"blzy1c49qao0","created":1528268690470,"text":"右 l","layout":null},"children":[]},{"data":{"id":"blzy2dihslc0","created":1528268771871,"text":"文件头行首 H / gg","layout":null},"children":[]},{"data":{"id":"blzy2enrn1c0","created":1528268774366,"text":"最后一行 行首L / G","layout":null},"children":[]},{"data":{"id":"blzy881b4kg0","created":1528269230133,"text":"移动到某行 num G","layout":null},"children":[]},{"data":{"id":"blzz2oy26i80","created":1528271617867,"text":"单词级别移动","layout":null},"children":[{"data":{"id":"blzz2td8g2o0","created":1528271627491,"text":"下一个  w","layout":null},"children":[]},{"data":{"id":"blzz3j7mvm00","created":1528271683750,"text":"上一个 b","layout":null},"children":[]}]},{"data":{"id":"blzz73ljmsg0","created":1528271963218,"text":"查找字符移动","expandState":"expand","layout":null},"children":[{"data":{"id":"blzz7b29n5k0","created":1528271979467,"text":"下一个 f 字符","note":"例: \nhello dong\n\n如果当前光标在空格位置, \n命令模式按 fo 就定位到ong前\n如果按Fo 就定位到空格前的o\n\n","layout":null},"children":[]},{"data":{"id":"blzz78mpa000","created":1528271974172,"text":"上一个 F 字符","note":"例: \nhello dong\n\n如果当前光标在空格位置, \n命令模式按 fo 就定位到ong前\n如果按Fo 就定位到空格前的o\n\n","layout":null},"children":[]}]}]},{"data":{"id":"blzy54kmyeg0","created":1528268987502,"text":"多行移动","note":"多行移动\n例:向右移三次 3l\n例:向下移动三次 3j\n\n\n","layout":null},"children":[]},{"data":{"id":"blzyfrva6400","created":1528269821854,"text":"行开头 ^ 或0","note":"例: 复制到行首\ny^\n\n复制到行尾\ny$\n\n","layout":null},"children":[]},{"data":{"id":"blzyfvpnzs00","created":1528269830221,"text":"行结尾 $","layout":null},"children":[]},{"data":{"id":"blzylcm2b1c0","created":1528270258829,"text":"复制粘贴","layout":null},"children":[{"data":{"id":"blzylj437og0","created":1528270272980,"text":"复制 y","layout":null},"children":[{"data":{"id":"blzylseymc80","created":1528270293228,"text":"复制行","layout":null},"children":[{"data":{"id":"blzym2viojk0","created":1528270315997,"text":"复制一行 yy","note":"复制一行 yy\n","layout":null},"children":[]},{"data":{"id":"blzym4skhrk0","created":1528270320172,"text":"复制多行 num yy","note":"复制多行\nnum yy\n例: 3yy\n\n例: yy3\n\n都表示复制三行\n","layout":null},"children":[]}]},{"data":{"id":"blzyr2gc25k0","created":1528270706900,"text":"复制到行首 y^","note":"从当前复制到行首 y ^\n\n","layout":null},"children":[]},{"data":{"id":"blzyr67y7m80","created":1528270715100,"text":"复制到行尾y$","note":"从当前光标复制到行尾\n","layout":null},"children":[]},{"data":{"id":"bm02a90vrxs0","created":1528280673452,"text":"复制到结尾 yG","layout":null},"children":[]},{"data":{"id":"bm02aeabecg0","created":1528280684906,"text":"复制到头 ygg","layout":null},"children":[]},{"data":{"id":"blzyyh40u800","created":1528271287356,"text":"复制任一字符","layout":null},"children":[{"data":{"id":"blzyym7shy00","created":1528271298468,"text":"num y 方向","note":"复制任一字符\nnum y 方向\n例\n3yl   ---表示当前位置向右复制3个字符\n\n4yh   ---表示当前位置向左复制4个字符\n\n","layout":null},"children":[]}]},{"data":{"id":"bm02hp0p9600","created":1528281256818,"text":"复制单词","expandState":"expand","layout":null},"children":[{"data":{"id":"bm02f80mxow0","created":1528281063081,"text":"复制一个单词 yw","note":"yw 复制一个单词 \n光标要定在单词第一个字符上做操作\n\n","layout":null},"children":[]},{"data":{"id":"bm02huq5x280","created":1528281269242,"text":"复制多个单词 y num w","note":"例: 复制2个单词 y2w\n\n","layout":null},"children":[]}]}]},{"data":{"id":"blzylke0yog0","created":1528270275757,"text":"粘贴 p","expandState":"expand","layout":null},"children":[{"data":{"id":"bm02eny9fjc0","created":1528281019402,"text":"粘贴多次 num p","layout":null},"children":[]}]}]},{"data":{"id":"blzzpso7w9k0","created":1528273428354,"text":"其它","layout":null},"children":[{"data":{"id":"blzzr76rr6w0","created":1528273538315,"text":"翻页","expandState":"expand","layout":null},"children":[{"data":{"id":"blzzpxcx9qg0","created":1528273438555,"text":"下一页 ctrl+f","note":null,"layout":null},"children":[]},{"data":{"id":"blzzpuuwx9c0","created":1528273433113,"text":"上一页 ctrl+b","layout":null},"children":[]}]},{"data":{"id":"blzzrcn2nhc0","created":1528273550185,"text":"撤销 u / num u","note":"u 撤销一次\nnum u 撤销n次\n\n","layout":null},"children":[]},{"data":{"id":"bm0052rmqg00","created":1528274625791,"text":"合并行下行合并到上行 J(大写)","note":"合并行, 下面的往上面合\n指令 J (大写)\n\n合并4行  4J \n把当前行也算为一行\n\n\n\n","layout":null},"children":[]},{"data":{"id":"bm00nm3mzig0","created":1528276078431,"text":"删除","layout":null},"children":[{"data":{"id":"bm00nq7y6m80","created":1528276087399,"text":"删除行","layout":null},"children":[{"data":{"id":"bm00nt6poqo0","created":1528276093854,"text":"删除一行 dd","layout":null},"children":[]},{"data":{"id":"bm00nypfux40","created":1528276105870,"text":"删除多行 num dd","note":"例: 删除两行 2dd\n","layout":null},"children":[]}]},{"data":{"id":"bm00oqjiaag0","created":1528276166462,"text":"删除字符","layout":null},"children":[{"data":{"id":"bm00ow5oo0w0","created":1528276178687,"text":"x","note":"删除光标所在的字符\n\n删除多个 num x","layout":null},"children":[]},{"data":{"id":"bm00ozidd5k0","created":1528276185984,"text":"X","note":"删除光标所在的前一个字符\n\n删除多个 num X\n","layout":null},"children":[]}]},{"data":{"id":"bm02bhczol40","created":1528280769962,"text":"删除到结尾 dG","layout":null},"children":[]},{"data":{"id":"bm02bpegwow0","created":1528280787466,"text":"删除到头 dgg","layout":null},"children":[]},{"data":{"id":"bm02c6y7puo0","created":1528280825665,"text":"删除到行首 d^","layout":null},"children":[]},{"data":{"id":"bm02ces0zig0","created":1528280842705,"text":"删除到行末d$","layout":null},"children":[]},{"data":{"id":"bm02iu3gf7c0","created":1528281346233,"text":"删除单词","layout":null},"children":[{"data":{"id":"bm02iy0hsv40","created":1528281354761,"text":"删除一个单词 dw","layout":null},"children":[]},{"data":{"id":"bm02j2uln540","created":1528281365289,"text":"删除多个单词 d num w","note":"例: \nd2w\n","layout":null},"children":[]}]}]},{"data":{"id":"bm02cwzr20g0","created":1528280882354,"text":"上行与下行交换行 ddp","note":"交换, 光标要在上行\n\n","layout":null},"children":[]}]}]},{"data":{"id":"blzxiotnw0w0","created":1528267229207,"text":"底行模式 esc :指令","note":"底行模式 esc 冒号 命令\n还可以以下按键进入底行模式\n: ? / % \n\n在底行:输入命令\n\n","layout":null},"children":[{"data":{"id":"bm02l73y61c0","created":1528281531289,"text":":q 退出","layout":null},"children":[]},{"data":{"id":"bm02lb1cww00","created":1528281539840,"text":":w 保存","layout":null},"children":[]},{"data":{"id":"bm02le8vwxk0","created":1528281546825,"text":":wq 保存退出(快捷 ctrl+z)","layout":null},"children":[]},{"data":{"id":"bm02ljanyls0","created":1528281557817,"text":":wq! 强制保存退出 ","note":"文件如果没有write权限强制也不行\n","layout":null},"children":[]},{"data":{"id":"bm02p54cfqg0","created":1528281840416,"text":"设置显示行号 :set nu","layout":null},"children":[]},{"data":{"id":"bm02pby1wps0","created":1528281855273,"text":"显示编码 :set fileencoding ","layout":null},"children":[]},{"data":{"id":"bm04cn93yao0","created":1528286503372,"text":":num ---快速进入某行","note":"快速进入某行, 例进入第3行\n:3 确定\n","layout":null},"children":[]},{"data":{"id":"bm02pyz2iqo0","created":1528281905401,"text":"查找与替换","layout":null},"children":[{"data":{"id":"bm042u14q0o0","created":1528285734486,"text":"查找","expandState":"expand","layout":null},"children":[{"data":{"id":"bm02q2sx0e00","created":1528281913736,"text":"向上找 :/key word","note":"下一个与上一个 与搜索方向有关\n","layout":null},"children":[{"data":{"id":"bm041r7d5tk0","created":1528285649968,"text":"下一个 n","layout":null},"children":[]},{"data":{"id":"bm041tpob600","created":1528285655429,"text":"上一个 N","layout":null},"children":[]}]},{"data":{"id":"bm0435wc4zk0","created":1528285760317,"text":"向下找 :?key word","layout":null},"children":[{"data":{"id":"bm044rcx6co0","created":1528285885397,"text":"往前找 n","layout":null},"children":[]},{"data":{"id":"bm044w3bhqg0","created":1528285895700,"text":"往后找 N","layout":null},"children":[]}]}]},{"data":{"id":"bm02q540m1s0","created":1528281918761,"text":"替换","layout":null},"children":[{"data":{"id":"bm046mcudr40","created":1528286031236,"text":":s/search/replace ---替换行内第一个匹配","note":"例:\n:s/hello/hi\n\n只替换行内\n","layout":null},"children":[]},{"data":{"id":"bm0483ganvk0","created":1528286146814,"text":":s/search/replace/g ---替换行内所有","note":":s/search/replace/g 替换行内所有匹配项\n","layout":null},"children":[]},{"data":{"id":"bm048shxmqo0","created":1528286201333,"text":":s/search/replace/gc ---替换行内所有, 并且需要确认","layout":null},"children":[]},{"data":{"id":"bm04bwblgl40","created":1528286444749,"text":":%s/search/replace/g ---替换全文件","layout":null},"children":[]}]}]}]},{"data":{"id":"blzyi0ajis00","created":1528269996918,"text":"可视模式 v","layout":null},"children":[]}]}]},{"data":{"id":"blzy8rl6w340","created":1528269272694,"text":"配置","note":"主配置文件vi /etc/virc\n用户级别 如\n/root/.vimrc\n/home/dongzhihong/.vimrc\n\n如:\n/root/.vimrc 写入 set nu\n以后打开vi 自动带行号\n","expandState":"expand","layout":null},"children":[{"data":{"id":"blzy8vqodcw0","created":1528269281733,"text":"显示行号 set nu","layout":null},"children":[]},{"data":{"id":"bm02oic71t40","created":1528281790825,"text":"语法高亮 syntax on","layout":null},"children":[]},{"data":{"id":"bm04q0b1pk80","created":1528287550522,"text":"自动缩进对齐 set autoindent","layout":null},"children":[]},{"data":{"id":"bm04q6nk5wg0","created":1528287564339,"text":"设置tab键为四个空格 set tabstop=4","layout":null},"children":[]},{"data":{"id":"bm0mf2vdxps0","created":1528337474078,"text":"root用户设置高亮不起效","note":"/root/.vimrc 做了配置, 其它用户起效了,但是root用户却并不起效\n\n比如其用用户编辑有高亮, root用户没有高亮\n\n原因是:root 用户的vi 叫vi, 其它用户的vi 别名叫vim \n\n解决思路:给root用户vi 起别名vim 就OK\n\n方案一:临时解决\nalias vi='vim'\n\n方案二:持久解决\nvi ~/.bashrc\n\n加入 vi='vim'\n\n记得, 设置后, 关闭链接, 重新链接才会生效语法高亮, 如果还不行, 安装vim\n\n\n\n","layout":null},"children":[]},{"data":{"id":"bm0mlvs4grk0","created":1528338007192,"text":"配置优先级 other usr > root","note":"所有用户使用vi 编辑器,配置都会先从root用户(/root/.vimrc) 读取, 然后会到用户目录 (/home/dongzhihong/.vimrc) 读取, 如果有相同的配置项, 后者生效\n\n","layout":null},"children":[]}]},{"data":{"id":"bm02oo4bvt40","created":1528281803410,"text":"查看","layout":null},"children":[]}]}]}]},{"data":{"id":"bkqyvn7kygw0","created":1523700867489,"text":"yum","expandState":"expand","layout":null,"layout_mind_offset":{"x":130.99999999999997,"y":-32}},"children":[{"data":{"id":"bkqyvyslkc80","created":1523700892705,"text":"更新yum # yum update","layout":null},"children":[]},{"data":{"id":"bloqkr0y7q80","created":1527130483437,"text":"常见软件安装","layout":null,"expandState":"expand"},"children":[{"data":{"id":"bloqkuh1hrc0","created":1527130490941,"text":"yum install wget -y (wget)","layout":null},"children":[]}]},{"data":{"id":"bloafp00gi00","created":1527084949448,"text":"卸载 yum remove 软件名","layout":null},"children":[]}]},{"data":{"id":"bkqywfpc7sw0","created":1523700929513,"text":"php","expandState":"expand","layout":null},"children":[{"data":{"id":"bkqyy6jmsls0","created":1523701066305,"text":"安装 # yum install php php-pear php-devel","layout":null},"children":[]},{"data":{"id":"bkqyy9mhdgg0","created":1523701073008,"text":"卸载 # yum remove php-commom","layout":null},"children":[]},{"data":{"id":"bkqzg4zwhmg0","created":1523702473490,"text":"查看是否安装php #yum list installed | grep php","layout":null},"children":[]}]},{"data":{"id":"bloqkmgmjcw0","created":1527130473501,"text":"HTTP工具","layout":null,"expandState":"expand"},"children":[{"data":{"id":"blor8r3m9e00","created":1527132364339,"text":"wget","note":"wget 用来获取互联网资源\n安装:\nyum install wget -y\n\n-a<日志文件>：在指定的日志文件中记录资料的执行过程；\n-A<后缀名>：指定要下载文件的后缀名，多个后缀名之间使用逗号进行分隔；\n-b：进行后台的方式运行wget；\n-B<连接地址>：设置参考的连接地址的基地地址；\n-c：继续执行上次终端的任务；\n-C<标志>：设置服务器数据块功能标志on为激活，off为关闭，默认值为on；\n-d：调试模式运行指令；\n-D<域名列表>：设置顺着的域名列表，域名之间用“，”分隔；\n-e<指令>：作为文件“.wgetrc”中的一部分执行指定的指令；\n-h：显示指令帮助信息；\n-i<文件>：从指定文件获取要下载的URL地址；\n-l<目录列表>：设置顺着的目录列表，多个目录用“，”分隔；\n-L：仅顺着关联的连接；\n-r：递归下载方式；\n-nc：文件存在时，下载文件不覆盖原有文件；\n-nv：下载时只显示更新和出错信息，不显示指令的详细执行过程；\n-q：不显示指令执行过程；\n-nh：不查询主机名称；\n-v：显示详细执行过程；\n-V：显示版本信息；\n--passive-ftp：使用被动模式PASV连接FTP服务器；\n--follow-ftp：从HTML文件中下载FTP连接文件。\n\n","layout":null},"children":[{"data":{"id":"blor97wxa8o0","created":1527132400939,"text":"参数","layout":null},"children":[{"data":{"id":"bm44esz8tcw0","created":1528692912391,"text":" ","layout":null},"children":[]}]},{"data":{"id":"bm44h6zp53k0","created":1528693099622,"text":"案例","layout":null},"children":[{"data":{"id":"bm44h9ias2w0","created":1528693105100,"text":"下载单个文件","note":"wget http://www.linuxde.net/testfile.zip\n","layout":null},"children":[]},{"data":{"id":"bm44hjyko6w0","created":1528693127852,"text":"下载一个目录下的所有","note":"wget -c -r -np -k -L -p url","layout":null},"children":[]}]}]},{"data":{"id":"bmja9zvwijk0","created":1530232861616,"text":"远程复制 scp 文件 git@58.87.95.xxx:/xxx","note":"scp ./haha root@58.87.95.xxx:/root\n\n\n\n//\nscp root@/172.19.2.75:/home/root/full.tar.gz /home/daisy/full.tar.gz\n\n\n"},"children":[]},{"data":{"id":"bmn1v7397xs0","created":1530615372783,"text":"scp 复制到远程","note":"\n//\nscp  -rp  /path/filename  username@remoteIP:/path\nscp /home/daisy/full.tar.gz root@172.19.2.75:/home/root （然后会提示你输入另外那台172.19.2.75主机的root用户的登录密码，接着就开始copy了），复制目录加参数 -r 即可\n\n"},"children":[]},{"data":{"id":"bmkep0qligg0","created":1530346883330,"text":"linux浏览器 elinks","note":"安装 yum install elinks\n\n使用:\nelinks http://localhost\n\n进入后按反斜杠,表示查看源码\n\n"},"children":[]}]},{"data":{"id":"bmkjtt8zdog0","created":1530361364398,"text":"性能测试工具"},"children":[{"data":{"id":"bmkjtx3dj340","created":1530361372766,"text":"apache ab,abs"},"children":[]},{"data":{"id":"bmkju1ogyn40","created":1530361382749,"text":"webbench","note":"```\n-f\t--force\t不需要等待服务器响应\n-r\t--reload\t发送重新加载请求\n-t\t--time\t运行多长时间，单位：秒\"\n-p\t--proxy server:port\t使用代理服务器来发送请求\n-c\t--clients\t创建多少个客户端，默认1个\"\n-9\t--http09\t使用 HTTP/0.9\n-1\t--http10\t使用 HTTP/1.0 协议\n-2\t--http11\t使用 HTTP/1.1 协议\n--get\t使用 GET请求方法\n--head\t使用 HEAD请求方法\n--options\t使用 OPTIONS请求方法\n--trace\t使用 TRACE请求方法\n-?/-h\t--help\t打印帮助信息\n-V\t--version\t显示版本号\n\n```"},"children":[{"data":{"id":"bmkjue732540","created":1530361409996,"text":"安装","note":"\n```\nwget http://home.tiscali.cz/~cz210552/distfiles/webbench-1.5.tar.gz\ntar xvf webbench-1.5.tar.gz\ncd webbench-1.5\nmake&make install\n\n```"},"children":[]},{"data":{"id":"bmkjv7n93gg0","created":1530361474100,"text":"使用","note":"\n```\nwebbench -c 500 -t 30 http://www.qq.com/      网站地址  一定要加上 http://\n\n```"},"children":[]}]},{"data":{"id":"bmknjjq1wlc0","created":1530371844466,"text":"Siege","note":"https://github.com/JoeDog/siege\n\n"},"children":[]},{"data":{"id":"bmkl0jfhj680","created":1530364712683,"text":"统计网站(IP,PV)"},"children":[{"data":{"id":"bmkl0ng86ps0","created":1530364721434,"text":"http://alexa.chinaz.com"},"children":[]}]}]},{"data":{"id":"blmilx0tyhk0","created":1526904886062,"text":"linux了解","expandState":"expand","layout":null},"children":[{"data":{"id":"blmim6gtv400","created":1526904906621,"text":"内核","expandState":"collapse","layout":null},"children":[{"data":{"id":"blmimeghgqo0","created":1526904924014,"text":"2.6","layout":null},"children":[]},{"data":{"id":"blmimi2i5e00","created":1526904931876,"text":"3.0","layout":null},"children":[]}]},{"data":{"id":"blmin892da80","created":1526904988869,"text":"发行版","expandState":"expand","layout":null},"children":[{"data":{"id":"blminbc268g0","created":1526904995580,"text":"centos","layout":null},"children":[{"data":{"id":"blminq2qmf40","created":1526905027669,"text":"centos6.5","note":"linux内核为2.6","layout":null},"children":[]},{"data":{"id":"blminu727hc0","created":1526905036637,"text":"centos7.x","note":"linux内核为3.0","layout":null},"children":[]}]},{"data":{"id":"blminczh3vk0","created":1526904999173,"text":"ubuntu","note":"ubuntu是linux发行版中图形界面最牛逼的","layout":null},"children":[]},{"data":{"id":"blminf3jq140","created":1526905003773,"text":"arch","layout":null},"children":[]},{"data":{"id":"blminkd5gps0","created":1526905015237,"text":"红帽","layout":null},"children":[]}]}]},{"data":{"id":"bm1igis19uo0","created":1528427862585,"text":"bash操作","expandState":"expand","layout":null},"children":[{"data":{"id":"bm1igot5bmo0","created":1528427875713,"text":"快捷键","expandState":"expand","layout":null},"children":[{"data":{"id":"bm1ih2ewyfs0","created":1528427905327,"text":"tab 补全","note":"tab 补全\n只要前缀能确定唯一就能被全, \n\ntab按两下, 会显示所有匹配的项\n\n","layout":null},"children":[]},{"data":{"id":"bm1ii7r4bns0","created":1528427995313,"text":"ctrl +c 终止程序","layout":null},"children":[]},{"data":{"id":"bm1iii8loq00","created":1528428018138,"text":"ctrl +a 敲命令时,将光标切换到头","layout":null},"children":[]},{"data":{"id":"bm1iistr2cg0","created":1528428041185,"text":"ctrl + d 结束输入, 例c语言输入时,按它结束用户输入,往下走","layout":null},"children":[]},{"data":{"id":"bm1ijg8o3e80","created":1528428092153,"text":"ctrl +e 敲命令时,光标移动到结尾 ","layout":null},"children":[]},{"data":{"id":"bm1isjft4q80","created":1528428804392,"text":"ctrl +m 相当于加车","layout":null},"children":[]}]},{"data":{"id":"bm10uqv6w800","created":1528378197310,"text":"通配符 简化的正则","note":"linux通配符, 没有量词如下面的一个示例\n\n正则  [a-z]{2}\n\nlinux通配符写法  [a-z] [a-z]\n","expandState":"expand","layout":null},"children":[{"data":{"id":"bm10uvgyy8o0","created":1528378207334,"text":"* 表示一个或多个任一字符 相当于mysql的 %","note":"* 匹配文件时, 不包含当前目录及上级目录\n\n例: ls -l | grep *.php\n\n","layout":null},"children":[]},{"data":{"id":"bm1ivsirq9k0","created":1528429059255,"text":"? 表示一个任意字符 相当于mysql _","note":"\n","layout":null},"children":[]},{"data":{"id":"bm1iwr6trvs0","created":1528429134720,"text":"集合","layout":null},"children":[{"data":{"id":"bm1ixaqakts0","created":1528429177256,"text":"[a-z] 表示a-z中的一个","layout":null},"children":[]},{"data":{"id":"bm1ixhtvzio0","created":1528429192711,"text":"[x,y,z] 表示x,y,z中的一个","layout":null},"children":[]},{"data":{"id":"bm1ixopfj2o0","created":1528429207679,"text":"[^x,y,z] 表示除了x,y,z","layout":null},"children":[]}]}]},{"data":{"id":"blt282pt7ww0","created":1527569583297,"text":"输出 输入","layout":null,"expandState":"collapse"},"children":[{"data":{"id":"blt28c7sq1k0","created":1527569603975,"text":"> 输出重定向","note":"输出重定向\n说明:输出写入文件\necho 'hello' > demo.txt\n\n例: ls -l >ls.log\n\n","layout":null},"children":[]},{"data":{"id":"blt28fpx6fk0","created":1527569611601,"text":">>输出重定向追加","note":"说明:追加内容到文件, 并换行\n例: echo 'world' >> data.log\n\n例: ls >> ls.log\n\n","layout":null},"children":[]},{"data":{"id":"blt28h21cbs0","created":1527569614511,"text":"< 输入重定向","note":"输入重定向\n\n//如果文件存在 ,输出到屏幕, 否则不输出, 但是不会往文件里写内容\n例:\necho 'hello' < demo.txt\n\n例: \n当前目录下有一个a.php文件,我新建一个y文件, 写入'y'\n\n我执行 rm a.php 删除文件需要确认\n\n我执行 rm a.php < y 确定的输入直接从文件读取, 如果文件内容是'y'就删除了, 不需要手动再输入'y'了\n\n","layout":null},"children":[]},{"data":{"id":"bm1jagga7yw0","created":1528430208446,"text":"<< 重定义ctrl+d ","note":"例:\n用cat 监控键盘输入, 并把输入的内容追加写入cat.txt文件, 想停止的时候, 需要ctrl+d 表示终于输入,如果不想按ctrl+d 怎么办?\n如下:\n\ncat >> cat.txt << end\n\n当我输入end后结束输入\n\n\n\n\n\n","layout":null},"children":[]}]},{"data":{"id":"bm1jltsll1c0","created":1528431099494,"text":"管道 |","note":"管道的作用, 将左边的输出作为右边的输入\n\n连续使用管道, 可以过滤\n\n","expandState":"expand","layout":null},"children":[{"data":{"id":"bm1jmq4smdc0","created":1528431169889,"text":"ls -l | grep *.php","layout":null},"children":[]},{"data":{"id":"bm1jmwez4jc0","created":1528431183565,"text":"ps -e | grep ssh","layout":null},"children":[]},{"data":{"id":"bm34o6xtqrs0","created":1528592088101,"text":"ps -e | head -1 ---取标题","layout":null},"children":[]},{"data":{"id":"bmh43tmyo4g0","created":1530012331256,"text":"下载不保存, 并用bash执行 curl -s url | sudo bash","layout":null},"children":[]},{"data":{"id":"bmh4bjll1y80","created":1530012936319,"text":"cat install.h | sudo bash","layout":null},"children":[]}]},{"data":{"id":"bm2pwa0qwrk0","created":1528550405073,"text":"短路运算","expandState":"collapse","layout":null},"children":[{"data":{"id":"bm2pwjhe6cw0","created":1528550425671,"text":"&& ---CMD1 &&  CMD2 与","note":"例:\nmake  && make install\n\n表示编译成功, 就执行make install\n\nls subdir > log && ls sub >> log\n\n","layout":null},"children":[]},{"data":{"id":"bm2pwne20740","created":1528550434176,"text":"|| ---CMD1 || CMD2 或","note":"例: \nls subdir || ls subdir -al\n\n","layout":null},"children":[]}]},{"data":{"id":"bm2qij3ainc0","created":1528552148830,"text":"history base操作历史记录","note":"查看历史操作 用于重复执行","expandState":"expand","layout":null},"children":[{"data":{"id":"bm2qiz9u4u00","created":1528552184054,"text":"history -num 查看最近num条","note":"例:查看最近5条\nhistory  5\n","layout":null},"children":[]},{"data":{"id":"bm2qm21tdn40","created":1528552425192,"text":"! id_num ---执行id为num的命令","note":"例:\n最近5条\nhistory 5\n\n查询结果如下:\n1012  history 5\n1013  cat log \n1014  ls\n1015  pwd\n1016  history 5\n\n我想执行 1013\n命令如下:\n!1013\n\n","layout":null},"children":[]},{"data":{"id":"bm2qr1x1be00","created":1528552816724,"text":"!! ---执行上次操作","note":"!!执行的本次记录不会记录在history中\n","layout":null},"children":[]},{"data":{"id":"bm2qrhow7oo0","created":1528552851060,"text":"! word ---执行最近一次word前缀的命令","note":"例:\n[root@localhost ~]# history 5\n 1022  cat b.txt\n 1023  cat c.txt\n 1024  ls dong/\n 1025  ls\n 1026  history 5\n[root@localhost ~]#\n\n我想执行最近一次 cat前缀的指令如下:\n!cat\n\n[root@localhost ~]# !cat\ncat c.txt\n[root@localhost ~]#\n","layout":null},"children":[]},{"data":{"id":"bm2qv2ign9k0","created":1528553131476,"text":"下, 下, 左, 右 箭头也可以调出执行最近操作","layout":null},"children":[]}]},{"data":{"id":"bm2qvrgad600","created":1528553185764,"text":"配置环境变量PATH","note":"说明:\nwindows 中环境变量由分号分割, \nlinux 中环境变量由冒号分割\n\n例:将php路径加入环境变量PATH\n export PATH=\"$PATH:/usr/local/php-5.6.22/bin/\"\n\n","expandState":"expand","layout":null},"children":[{"data":{"id":"bm2qvx16c4g0","created":1528553197911,"text":"配置文件 /etc/profile","note":"/etc/profile 文件尾追加\n\nexport PATH=\"$PATH:/usr/local/php/bin\"\n\n配置完, 要让即时生效需要执行\nsource /etc/profile\n或\n. /etc/profile\n\n\n更方便的写法\necho 'export PATH=\"$PATH:/usr/local/\"' >> /etc/profile && . /etc/profile\n\n\n\n","layout":null},"children":[]},{"data":{"id":"bm2qxt62e1k0","created":1528553346228,"text":"查看环境变量 : echo $PATH","note":"[root@localhost ~]# echo $PATH\n/usr/local/sbin:/usr/local/bin:/sbin:/bin:/usr/sbin:/usr/bin:/root/bin:/usr/local/git/bin:/root/bin\n\n","layout":null},"children":[]}]},{"data":{"id":"bm2re1z11bk0","created":1528554619220,"text":"进程管理","layout":null},"children":[{"data":{"id":"bm2re89y2b40","created":1528554632941,"text":"ps ---当前进程信息","layout":null},"children":[{"data":{"id":"bm2reu8kvw80","created":1528554680747,"text":"参数","layout":null},"children":[{"data":{"id":"bm2rf1jb7u80","created":1528554696634,"text":"-e 打印全部进程 (ps -e | grep ssh)","layout":null},"children":[]},{"data":{"id":"bm2t0v8ulo00","created":1528559228062,"text":"-f 打印bin 目录","layout":null},"children":[]},{"data":{"id":"bm2rgw1sysg0","created":1528554841419,"text":"aux 打印更详细 (ps aux | grep ssh )","layout":null},"children":[]},{"data":{"id":"bm2tx8v6n7k0","created":1528561765364,"text":"ps -ajx (打印详细, 含ppid父进程id)","note":"ps -ajx 可查看到ppid 父进程\n\n更多语法:\n例:\nps  -ajx | grep httpd\n\n\n| head -1 表示取一行标题\n\nps -ajx | head -1;ps -ajx | grep httpd\n\n\n","layout":null},"children":[]},{"data":{"id":"bm2u6gl7q3k0","created":1528562487453,"text":"--sort=标题 排序","note":"--sort=排序标题\n\n例:\nps -ajx | head -1;ps -ajx --sort=ppid | grep httpd\n\n","layout":null},"children":[]},{"data":{"id":"bmkbgjwhzsg0","created":1530337756439,"text":"ps -ef | grep nginx (查看端口)"},"children":[]}]}]},{"data":{"id":"bm2udh8wbjs0","created":1528563037434,"text":"pstree 查看进程信息 树状展示","note":"pstree命令以树状图的方式展现进程之间的派生关系，显示效果比较直观\n\n","layout":null},"children":[{"data":{"id":"bm34taa0vyo0","created":1528592487190,"text":"参数","layout":null},"children":[{"data":{"id":"bm34td0yfag0","created":1528592493172,"text":"-u 用户信息","layout":null},"children":[]},{"data":{"id":"bm34ttv6tmw0","created":1528592529829,"text":"-p 带pid","layout":null},"children":[]}]}]},{"data":{"id":"bm2reax5j6o0","created":1528554638698,"text":"top ---动态监视","layout":null},"children":[{"data":{"id":"bm2rfgf0pao0","created":1528554729026,"text":"向top发指令","layout":null},"children":[{"data":{"id":"bm2rfl5qcsg0","created":1528554739348,"text":"q ---退出","layout":null},"children":[]},{"data":{"id":"bm2rixb1kbk0","created":1528555000883,"text":"P (大写) 按CPU使用率排序","layout":null},"children":[]},{"data":{"id":"bm2rldtifv40","created":1528555193557,"text":"M (大写) 内存使用率排序","layout":null},"children":[]},{"data":{"id":"bm2rphkj0gw0","created":1528555515177,"text":"N 按PID 排序","layout":null},"children":[]},{"data":{"id":"bm2rppeq4vc0","created":1528555532241,"text":"k (信号) 提供关pid 关闭进程","layout":null},"children":[{"data":{"id":"bm2s0tlfyso0","created":1528556403360,"text":"15 终止进程","layout":null},"children":[]},{"data":{"id":"bm2rzks5q9k0","created":1528556305811,"text":"9 杀死进程","layout":null},"children":[]},{"data":{"id":"bm2rzqi4vpk0","created":1528556318265,"text":"2 终端进程","layout":null},"children":[]},{"data":{"id":"bm2rzredo9s0","created":1528556320215,"text":"1 挂起进程","layout":null},"children":[]}]}]}]},{"data":{"id":"bmkbqxtwvhc0","created":1530338570399,"text":"杀死进程","expandState":"expand"},"children":[{"data":{"id":"bm2t0croneg0","created":1528559187842,"text":"kill 杀死进程","note":"说明: \n要杀死进程, 把主进程杀死, 再杀死子进程\n\n","layout":null},"children":[{"data":{"id":"bm2t0hzuxvk0","created":1528559199220,"text":"kill -9 进程PID","layout":null},"children":[]}]},{"data":{"id":"bmkbr3uhs880","created":1530338583495,"text":"pkill 进程名: pkill nginx"},"children":[]},{"data":{"id":"bmkbr9ga8o00","created":1530338595696,"text":"killall 进程名: killall nginx"},"children":[]}]}]}]},{"data":{"id":"blmir1bs40w0","created":1526905287252,"text":"虚拟机安装linux系统","layout_right_offset":{"x":-11,"y":-1443.9999501109123},"expandState":"expand","layout":null},"children":[{"data":{"id":"blmirj0k9dc0","created":1526905325756,"text":"virtualBox","note":"Oracle出品,免费","layout":null},"children":[{"data":{"id":"blmiruvwqqg0","created":1526905351596,"text":"常见故障","layout":null},"children":[{"data":{"id":"blzwjex7i200","created":1528264464908,"text":"32位系统,内存配大, 启动不了","note":"32位系统, 内存配大, 启动不了, 解决\n设置>系统>扩展特性启用 PAE/NX\n\n","layout":null},"children":[]}]}]},{"data":{"id":"blmirx4s9t40","created":1526905356486,"text":"vm","note":"收费商业软件","layout":null},"children":[]},{"data":{"id":"bln2nnhw8y80","created":1526961444253,"text":"虚拟机网络连接方式","layout":null,"expandState":"expand"},"children":[{"data":{"id":"bln2nxj7hhs0","created":1526961466100,"text":"NAT网络地址转换","note":"网络地址转换, 虚拟电脑跟实体电脑不能通讯, 但是只要实体电脑能上外网, 虚拟电脑也能上外网\n\n本地远程连接不上!","layout":null},"children":[]},{"data":{"id":"bln2o20dhi00","created":1526961475845,"text":"桥接","note":"桥接的虚拟电脑, 跟实体电脑是平等的, 同处于局域网中, 可以跟实体电脑通讯, 也能上外网(只要实体电脑能上网)","layout":null},"children":[]},{"data":{"id":"bln2o3vghgo0","created":1526961479901,"text":"host-only","note":"host-only 仅主机\n虚拟电脑不能上网,但能跟该虚拟机上的实体电脑通讯, 也能跟该实体电脑上的其它host-only虚拟电脑通讯,所以可以本地远程连接\n\nhost-only 分配IP段192.168.56.xxx\nhost-only 借助于实体电脑的virtualBox host-only 适配器,如果禁用, host-only连不上网","layout":null},"children":[]}]}]},{"data":{"id":"bln1yzsiqhs0","created":1526959511913,"text":"远程连接","layout_right_offset":{"x":-92,"y":-1937.9999268954452},"expandState":"collapse","layout":null},"children":[{"data":{"id":"bln1z8l3iao0","created":1526959531055,"text":"xshell(商业)","layout_right_offset":{"x":13.999999999999943,"y":0},"layout":null},"children":[]},{"data":{"id":"bln1zqr7o5c0","created":1526959570607,"text":"secureCRT(商业)","layout_right_offset":{"x":16,"y":0},"layout":null},"children":[]}]},{"data":{"id":"bln2t6legz40","created":1526961877644,"text":"linux常用命令","layout_right_offset":{"x":733,"y":-73},"layout":null,"expandState":"expand"},"children":[{"data":{"id":"bln2tfvc6ps0","created":1526961897836,"text":"目录管理","layout_right_offset":{"x":595,"y":-1379},"expandState":"expand","layout":null},"children":[{"data":{"id":"bln6ivdujbs0","created":1526972354041,"text":"pwd","layout_right_offset":{"x":3,"y":-29},"note":"查看当前是哪个目录\n","layout":null},"children":[]},{"data":{"id":"bln2tjpbnwg0","created":1526961906180,"text":"ls","note":"ls帮助信息 ls -help","layout":null,"expandState":"expand"},"children":[{"data":{"id":"bln2tnlfvi80","created":1526961914652,"text":"ls","note":"ls --列出当前目录内容\nls 目录 --列出所给目录内容\n\n\n","layout":null},"children":[]},{"data":{"id":"bln2tp7iwog0","created":1526961918164,"text":"ls -a","note":"ls -a --列出目录所有内容,包含隐藏文件(.开头的文件)\n","layout":null},"children":[]},{"data":{"id":"bln2trkq8ls0","created":1526961923316,"text":"ls -l","note":"ls -l --列出目录详细内容, 包含:权限,引用次数, 用户跟组,文件大小, 创建时间,文件名\n\nls -l 有的系统可,写为ll\n\n例:\ndr-xr-x---.  2 root root  4096 5月  21 16:14 .\ndr-xr-xr-x. 22 root root  4096 5月  21 16:17 ..\n-rw-------.\n\nd 表示是目录\n\\- 表示是文件\n\n","layout":null},"children":[]},{"data":{"id":"bln350242i00","created":1526962803787,"text":"组合","note":"例:\nls -l -a \nls -la","layout":null},"children":[]},{"data":{"id":"blt7o48khds0","created":1527584945984,"text":"参数说明","layout":null},"children":[{"data":{"id":"blt7o5zo43c0","created":1527584949799,"text":"-i (inode index)","layout":null},"children":[]}]}]},{"data":{"id":"bln6izkjonc0","created":1526972363153,"text":"cd","note":"切换目录 change directory\n\ncd //切换到家目录\ncd ~ //切换到家目录\n\ncd - //切换到上一次目录(后退)\ncd . //切换到当前目录\ncd .. //切换到上级目录\n\n家目录说明:\nroot 用户家目录 /root\n非root用户家目录是 /home/用户目录\n\n\n","layout":null},"children":[]}]},{"data":{"id":"blnainsv6b40","created":1526983621975,"text":"文件目录操作","layout_right_offset":{"x":456,"y":-2481},"expandState":"expand","layout":null},"children":[{"data":{"id":"blnaji5f5400","created":1526983688037,"text":"创建","layout_right_offset":{"x":184,"y":-223},"layout":null,"expandState":"expand"},"children":[{"data":{"id":"blnajnjrwzs0","created":1526983699789,"text":"touch 文件名(不存在才创建)","layout":null},"children":[]},{"data":{"id":"blnajsxltds0","created":1526983711509,"text":"vi 文件名","layout":null},"children":[]},{"data":{"id":"blnajw0c1ww0","created":1526983718205,"text":"mkdir 目录","layout":null},"children":[]},{"data":{"id":"blnak224h0w0","created":1526983731374,"text":"mkdir -p 目录","layout":null},"children":[]}]},{"data":{"id":"blnakdtqsd40","created":1526983756988,"text":"删除","expandState":"expand","layout_right_offset":{"x":237,"y":-183},"layout":null},"children":[{"data":{"id":"blnakib18gg0","created":1526983766741,"text":"rm 文件名 (root用户需要确定)","layout":null},"children":[]},{"data":{"id":"blnakpo1g140","created":1526983782765,"text":"rm -f 文件名 (强制删除,不确认)","layout":null},"children":[]},{"data":{"id":"blnal4vnpko0","created":1526983815877,"text":"rm -r 目录名/文件名 (删除目录或文件)","layout":null},"children":[]},{"data":{"id":"blnaoxee09s0","created":1526984113052,"text":"rm -rf 目录名/文件名 (强制删除目录或文件)","layout":null},"children":[]},{"data":{"id":"blnalnoxfz40","created":1526983856829,"text":"rmdir 空目录 (只能删除空目录)","layout":null},"children":[]},{"data":{"id":"blo0icfsxug0","created":1527056946098,"text":"unlink file (删除文件)","layout":null},"children":[]}]},{"data":{"id":"blnatircozc0","created":1526984473005,"text":"复制文件或目录cp","layout_right_offset":{"x":257,"y":-147},"layout":null,"expandState":"expand"},"children":[{"data":{"id":"blnatp68bcw0","created":1526984486965,"text":"cp 源文件 目的地","note":"cp httpd.conf httpd.conf.bak\n","layout":null},"children":[]},{"data":{"id":"blnavr8uidc0","created":1526984648205,"text":"cp -r/R 源目录 目的地","note":"cp -r php php5.6\ncp -R php php70\n\n-r 跟-R 一样的的","layout":null},"children":[]}]},{"data":{"id":"blnb5vj6jpk0","created":1526985441179,"text":"移动文件或目录","note":"移动文件或目录是一样的\n","layout_right_offset":{"x":167,"y":-109},"layout":null,"expandState":"collapse"},"children":[{"data":{"id":"blnb6abb0uw0","created":1526985473355,"text":"mv 目录名  新目录名 (移动目录)","note":"文件重命名也是mv 来处理\n\n例: 将当前目录下的phpinfo.php 改名为index.php\n\nmv phpinfo.php index.php\n\n例: 将index.php 移动到www目录\nmv index.php www/\n\n注:移动到目录, 不改名需要在目录名后加斜杠, 否则就把目录当文件名了\n\n","layout":null},"children":[]},{"data":{"id":"blnbafzaofc0","created":1526985799146,"text":"mv 原文件名  新文件名 (重命名)","layout":null},"children":[]},{"data":{"id":"blnbatb6xiw0","created":1526985828163,"text":"mv 原文件名 目的地目录/  (移动文件)","layout":null},"children":[]}]}]},{"data":{"id":"blnv8lmcbcw0","created":1527042076893,"text":"查找","layout_right_offset":{"x":580,"y":-2109},"expandState":"expand","layout":null},"children":[{"data":{"id":"blnv98cmlw00","created":1527042126372,"text":"find 根据文件属性查找","note":"find 查找语法\n\nfind path 条件 值\n\nfind [目录] 条件 条件值\n例: find ~ -name httpd.conf\n\n\n查找文件分 深度优先 广度优先, \nfind 是深度优先\n\n\n\n\n\n\n","layout_right_offset":{"x":83,"y":-38},"expandState":"expand","layout":null},"children":[{"data":{"id":"blnv9gt1d340","created":1527042144778,"text":"-name (按文件名查找)","note":"find ./ -name httpd.conf*\n\n区分大小写","layout":null},"children":[]},{"data":{"id":"blnw0es8g8g0","created":1527044256208,"text":"-iname (按文件名,不分大小写)","note":"find ./ -name httpd.conf*\n\n不区分大小写","layout":null},"children":[]},{"data":{"id":"blnvydmjx1k0","created":1527044096960,"text":"-mtime (按文件修改时间)","note":"语法:\nfind ./ -mtime 1\nfind ./ -mtime -1\nfind ./ -mtime +1\nfind ./ -mtime 0\n\n说明:\n-mtime n : n为数字，意思为在n天之前的“一天之内”被更改过内容的文件\n\n-mtime +n : 列出在n天之前（不含n天本身）被更改过内容的文件名\n\n-mtime -n : 列出在n天之内（含n天本身）被更改过内容的文件名\n\n例如：将系统24小时内更改过内容的档案列出 。\n\nfind / -mtime 0\n\n\n以当前时间为2018-5-23 11:00:00 为例\n1 表示 2018-5-21 11:00:00 到2018-5-22 11:00:00\n\n-1表示 2018-5-22 11:00:00 到现在\n2018-5-23 11:00:00\n\n+1表示 2018-5-22 11:00:00 以前的\n\n\n0表示 24小时内\n\n1 可以理解为 当前时间+48小时到 当前时间+24 小时之间\n\n+1 可以理解为 当前时间+24小时之前 \n\n\n-1 可以理解为 当前时间+24小时 到现在\n\n","layout":null},"children":[{"data":{"id":"blnw22q968g0","created":1527044386696,"text":"0","note":"24小时内修改的文件","layout":null},"children":[]},{"data":{"id":"blnw24q80t40","created":1527044391047,"text":"n","note":"第n天 修改的内容","layout":null},"children":[]},{"data":{"id":"blnw25pf0yw0","created":1527044393175,"text":"-n","note":"n天内修改的内容","layout":null},"children":[]},{"data":{"id":"blnw27kr4mw0","created":1527044397247,"text":"+n","note":"n天前修改的","layout":null},"children":[]}]},{"data":{"id":"blnvyl61wig0","created":1527044113376,"text":"-size (按大小)","layout":null},"children":[{"data":{"id":"blnwlqbtb6w0","created":1527045926984,"text":"逻辑","layout":null},"children":[{"data":{"id":"blnwm6tfbgw0","created":1527045962878,"text":"+ (大于)","note":"find -size +10M\n查找大于10M的文 ","layout":null},"children":[]},{"data":{"id":"blnwmalp7i80","created":1527045971118,"text":"- (小于)","note":"find -size -10M\n小于10M的文件","layout":null},"children":[]}]},{"data":{"id":"blnwmm046zc0","created":1527045995934,"text":"单位","layout":null},"children":[{"data":{"id":"blnwmnob1hc0","created":1527045999574,"text":"M (兆)","note":"find -size +10M","layout":null},"children":[]},{"data":{"id":"blnwmow9bow0","created":1527046002231,"text":"k (千字节)","note":"find -size +1024k\n","layout":null},"children":[]},{"data":{"id":"blnwmrgc64g0","created":1527046007799,"text":"G (吉)","note":"find -size +1G\n","layout":null},"children":[]}]}]},{"data":{"id":"blnvyplkhrs0","created":1527044123022,"text":"-type (按类型)","layout":null},"children":[{"data":{"id":"blnx7jhm4c00","created":1527047636109,"text":"find ./ -type d","note":"类型为目录\n","layout":null},"children":[]},{"data":{"id":"blnx7oyh97k0","created":1527047648013,"text":"find ./ -type f","note":"类型为文件\n","layout":null},"children":[]}]},{"data":{"id":"blnxhka0hsw0","created":1527048421468,"text":"指定深度","note":"当前目录的深度是1\n","layout":null},"children":[{"data":{"id":"blnxivzqjyo0","created":1527048525332,"text":"-maxdepth num","note":"最大深 \n例:\nfind -maxdepth 3 -name '*log*' ","layout":null},"children":[]},{"data":{"id":"blnxizom54w0","created":1527048533367,"text":"-mindepth num","note":"最小深度\nfind -mindepth 3 -name '*log*' ","layout":null},"children":[]},{"data":{"id":"blnxlj3x0cg0","created":1527048732379,"text":"-mindepth num1 -maxdepth num2","note":"\n介于两者之间","layout":null},"children":[]}]},{"data":{"id":"blnyhjv6ogw0","created":1527051241681,"text":"-newer file","expandState":"expand","layout":null},"children":[{"data":{"id":"blnvz12sq7c0","created":1527044148008,"text":"find -newer file (比它新)","note":"find -newer /root/dong/d\n\n开区间, 不含它","layout":null},"children":[]},{"data":{"id":"blnvz75dglc0","created":1527044161224,"text":"find -newer file ! -newer (比它旧)","note":"find ! -newer /root/dong/d\n\n闭区间, 包含d\n","layout":null},"children":[]},{"data":{"id":"blnyhw78k680","created":1527051268531,"text":"find -newer file1 ! -newer file2 (区间)","note":"find /root/dong -newer /root/dong/d ! -newer /root/dong/e -type f","layout":null},"children":[]}]},{"data":{"id":"blzvlsmt0o00","created":1528261830373,"text":"find 找到文件并处理","note":"find 找到文件并处理\n例: \n找到所有 php文件并删除\n\nfind ./ -name  '*.php' -exec rm -f {} \\;\n\n说明:\n-exec 表示执行 后面跟执行的shell\n{} 表示找到的文件,依次执行\n结尾是固定的 \\;\n{}中无任何字符, 并且与后面 \\;要有一个空格\n\n\n\n","layout":null},"children":[]}]},{"data":{"id":"blnwu5osa2w0","created":1527046587334,"text":"locate 查找","note":"locaate 查找是在索引数据库查找, 所以速度快, 要查找刚刚创建的文件, 找不到, 需要更新一下 updatedb\n\n默认每天晚上4点自动更新\n","expandState":"expand","layout_right_offset":{"x":175,"y":-14},"layout":null},"children":[{"data":{"id":"blnwucwdlvk0","created":1527046603030,"text":"安装","note":"centos 没有自带, 需要手动安装","layout":null,"expandState":"expand"},"children":[{"data":{"id":"blnwuff4lj40","created":1527046608518,"text":"安装","priority":1,"note":"sudo yum install mlocate\n或dudo yum install locate \n\n# \nyum install locate mlocate -y \nupdatedb\n\n\n\n\n","layout":null},"children":[]},{"data":{"id":"blnwuibiml40","created":1527046614830,"text":"更新数据库","priority":2,"note":"sudo updatedb\n\n","layout":null},"children":[]}]},{"data":{"id":"blnwx3ye9o00","created":1527046818654,"text":"使用","note":"使用是从数据库查找, 没有设置path 的概念\n\n\n-n 表示只显示n条\n\n","expandState":"expand","layout":null},"children":[{"data":{"id":"blnwx6tghiw0","created":1527046824885,"text":"locate log -n 10","layout":null},"children":[]},{"data":{"id":"blnx6icnyvk0","created":1527047555269,"text":"locate /etc/sh","note":"locate /etc/sh\n\n从数据库中查找 /etc/sh 字符串","layout":null},"children":[]},{"data":{"id":"blnx73jed140","created":1527047601389,"text":"-i 不区分大小写","layout":null},"children":[]}]},{"data":{"id":"bm4t6zxmn6o0","created":1528762828366,"text":"技巧","layout":null},"children":[{"data":{"id":"bm4t78tp73s0","created":1528762847719,"text":"查看程序bin目录 locate 命令名 | grep bin","note":"updatedb\nlocate apr | grep bin\nlocate pcre | grep bin","layout":null},"children":[]}]}]},{"data":{"id":"bml0pvcijc00","created":1530409014377,"text":"查找命令在哪 which ifconfig","note":"用于查找命令在哪个目录, 从环境变量中查找,如果不存在, 说明环境变量里没有,也就不能在任一目录使用该命令\n\n例:\nwhich ifconfig\n\n"},"children":[]},{"data":{"id":"blnv9ae1g080","created":1527042130811,"text":"grep 根据文件内容查找","note":"grep 文件内容查找 \n查找结果一行一条, 内容为哪个文件,哪行\n\n语法:\ngrep '查找的内容' [选项] 文件名\n$ grep 'phpinfo' -r /root/dong/*.php\n\n$ grep 'phpinfo' -r /root/\n\n\n结果:\n/root/dong/phpinfo.php:2:phpinfo();\n\n支持查找内容 可以是正则表达式\ngrep '[a-z]\\{3,4\\}' -rni /root\n\n\n在shell 中小括号跟花括号是有特殊含义的, 所以在字符串中用, 要转义一下\n\n\n","expandState":"expand","layout":null},"children":[{"data":{"id":"blnza0ohpyw0","created":1527053472478,"text":"grep 'phpinfo' -r /root/dong/*.php","layout":null},"children":[]},{"data":{"id":"blu306t3rs00","created":1527673346356,"text":"常用","layout":null},"children":[{"data":{"id":"blu30ay3poo0","created":1527673355365,"text":"ll | grep python (查看有没有python在当前目录)","layout":null},"children":[]}]},{"data":{"id":"blnzdh9ileg0","created":1527053743671,"text":"-r (递归查找子目录)","layout":null},"children":[]},{"data":{"id":"blnzdpev2qo0","created":1527053761408,"text":"-n (显示行号)","layout":null},"children":[]},{"data":{"id":"blnzer3cpps0","created":1527053843430,"text":"-i (不区分大小写)","layout":null},"children":[]}]}]},{"data":{"id":"bln6nyd2ve80","created":1526972752346,"text":"init","layout_right_offset":{"x":281,"y":1416},"expandState":"expand","layout":null},"children":[{"data":{"id":"bln6o2osd1s0","created":1526972761761,"text":"init 0 关机 shutdown","layout_right_offset":{"x":35,"y":-9},"layout":null},"children":[]},{"data":{"id":"bm4us60yjag0","created":1528767308385,"text":"init 6 重启 reboot","layout":null},"children":[]}]},{"data":{"id":"bln6uguisuw0","created":1526973262768,"text":"用户管理","layout_right_offset":{"x":855,"y":-2133},"expandState":"expand","layout":null},"children":[{"data":{"id":"bln6ujnvcao0","created":1526973268896,"text":"useradd 用户名","note":"添加用户\n\n需要root权限","layout":null},"children":[]},{"data":{"id":"bln6un6dig00","created":1526973276545,"text":"passwd 用户名","note":"设置用户密码\n\n需要root权限","layout":null},"children":[]},{"data":{"id":"blt73e8gch40","created":1527583322097,"text":"sudo su 切换到root用户","layout":null},"children":[]}]},{"data":{"id":"blnxmyaxsf40","created":1527048843820,"text":"属性状态查看","layout_right_offset":{"x":265,"y":701},"expandState":"collapse","layout":null},"children":[{"data":{"id":"blnxn50n4mg0","created":1527048858435,"text":"stat file (文件目录状态查看)","layout":null},"children":[]}]},{"data":{"id":"blt63bbphaw0","created":1527580494654,"text":"linux知识点","layout_right_offset":{"x":585,"y":-139},"layout":null,"expandState":"expand"},"children":[{"data":{"id":"blt63izxltc0","created":1527580511356,"text":"软硬链接","note":"软硬链接, 可通过 ls -li 可看详细信息\n\n硬链接inode与源文件一致,跟普通文件一样\n\n软链接, 属性有一个 'l'标识\n如果原文件删除, 软链接会一闪一闪警告\n\n源文件删除, 硬链接还可以用, 原因是,只要block 块有被引用,就不会真正的删除\n\n硬链接可以起到防止文件误删的功能\n\n目录不支持硬链接, 跨文件系统不支持硬链接\n\n\n\n删除源文件, 硬链接还可以访问到文件内容, 而软链接不可以 , 是为什么?\n答: 因为硬链接的inode 跟源文件的inode  相同, 通过inode找到文件内容, 当源文件删除后, 因为有硬链接的inode引用源文件, inode只要被引用,就不会释放, 而软链接, 是通过源文件名的inode 找到文件内容, 所以当源文件被删除, 软链接就失效\n\n\n","layout":null,"expandState":"expand"},"children":[{"data":{"id":"blt6dzvbptc0","created":1527581331724,"text":"软链接","note":"软连接相当于windows 的快捷方式\n\n软链接使用案例:\n创建一个目录, 专门存放软链接,比如, 将一些应用程序的配置文件, 建立软链接, 存到统一的目录管理\n\n","layout":null},"children":[{"data":{"id":"blt63us3gwg0","created":1527580537003,"text":"ln -s 源文件 链接文件 --软链接(符号链接) symbolic link","note":"示例:\nln -s test.txt test.txt.symbolic\n","layout":null},"children":[]}]},{"data":{"id":"blt6e67sbr40","created":1527581345538,"text":"硬链接","note":"硬链接, 相当于对象引用, inode跟源文件的inode 一样, 通过inode 找到文件本身\n\n\n硬链接跟源文件指向一个文件内容(block块)\n\n","layout":null},"children":[{"data":{"id":"blt63ynygdc0","created":1527580545460,"text":"ln 源文件 链接文件 --硬链接 hard link","note":"示例:\nln test.txt test.txt.hard\n","layout":null},"children":[]},{"data":{"id":"blt6ed0agnk0","created":1527581360323,"text":"注意","layout":null},"children":[{"data":{"id":"blt6ehxu9js0","created":1527581371058,"text":"硬链接不支持目录","priority":1,"layout":null},"children":[]},{"data":{"id":"blt6eo4rtfc0","created":1527581384538,"text":"硬链接不支持跨文件系统(分区)","priority":2,"layout":null},"children":[]}]}]},{"data":{"id":"bltayaundnc0","created":1527594207351,"text":"关于引用次数","note":"一个目录, 最少被引用2次, 一次是目录名, 还有一次是.\n\n一个题目:\n一个目录 test 下有a,b,c,d 四个目录\n问 test引用次数是几次?\n答: 6次\na,b,c,d 一共引用4次\n目录名引用一次\n目录下的. 引用一次\n\n\n\n\n\n\n","layout":null},"children":[]},{"data":{"id":"blte1en1lbk0","created":1527602914020,"text":"软硬链接的小结","note":"软链接特点:\nln -s 源路径 目标路径\n1) 相当于windows的快捷方式\n2) 删除链接文件, 源文件无影响\n3) 删除源文件, 链接文件失效\n4) 修改源文件/链接文件, 内容跟着变\n5) inode与源文件件inode 不一样\n6) 可跨分区\n\n硬链接:\nln 源文件 目标路径\n1)删除源文件/链接文件, 另一个不受影响\n2)修改源文件或链接文件,内容跟着变\n3)inode 一样\n4)目录不能创建硬链接\n5)不可跨分区\n\n问题:软链接为什么可以跨分区?\n答: 因为软链接指入的文件名\n\n硬链接, 指向inode , inode 不可跨分区\n\n\n","layout":null},"children":[]}]},{"data":{"id":"blt7y30giu00","created":1527585726960,"text":"删除一个文件, 空间没被释放的原因","note":"测试:\n1) mkdir test\n2) vi ./test/test.txt \n写入一些内容, 保存\n\n3) ln ./test/test.txt ./test/test.txt.hard\n\n4)查看test目录占用空间\ndu ./test\n\n5)删除源文件 \nrm ./test/test.txt\n\n6)再查看test目录大小\ndu ./test\n结果发现:没有减少\n7)删除硬链接\nrm ./tst/test.txt.hard\n8)第三次查看test占用大小\ndu ./test\n结果:空间减少了\n\n\n","layout":null,"expandState":"expand"},"children":[{"data":{"id":"blt7y99n5zc0","created":1527585740574,"text":"进程占用","priority":1,"layout":null},"children":[]},{"data":{"id":"blt7ydlmvo00","created":1527585750006,"text":"有硬链接","priority":2,"layout":null},"children":[]}]},{"data":{"id":"blteejq11h40","created":1527603943819,"text":"disk(磁盘相关)","layout":null,"expandState":"expand"},"children":[{"data":{"id":"blteeo8rblk0","created":1527603953659,"text":"df (disk free)","note":"统计信息, df  可查看磁盘使用情况\n","layout":null,"expandState":"expand"},"children":[{"data":{"id":"bltefg9bsj40","created":1527604014643,"text":"df 参数说明","layout":null},"children":[{"data":{"id":"blteflmmdbk0","created":1527604026331,"text":"-h (使人易读的)","note":"df -h\n","layout":null},"children":[]},{"data":{"id":"bltefupornc0","created":1527604046107,"text":"-m 以兆为单位","layout":null},"children":[]}]},{"data":{"id":"bltegc2fcjc0","created":1527604083883,"text":"结果说明","layout":null,"expandState":"expand"},"children":[{"data":{"id":"bltege5z8m80","created":1527604088451,"text":"filesystem","note":"物理文件系统, 电脑中的磁盘","layout":null},"children":[]},{"data":{"id":"bltegheo5ko0","created":1527604095507,"text":"mounted on","note":"挂载点, 如何通过当前操作系统找到磁盘(盘符)\n挂载点, 一定是linux 文件系统的某个位置.\n\n","layout":null},"children":[]}]}]},{"data":{"id":"blttw4d66iw0","created":1527647637593,"text":"du (disk dump)","layout_right_offset":{"x":16,"y":-8},"note":"// 统计文件使用占用情况, 而不是文件大写, 它包含了inode占用空间\n\n展示的数据占用大小单位是块(block),\n1block = 1K \n\n\n默认只展示目录使用情况, 加参数 -a 会统计文件\n\n一个空目录占4K 一个空文件不占空间(block) , 一个文件只要有一个字符, 就占4K(4个block)\n\n\n\n","layout":null},"children":[{"data":{"id":"bltvb4p7msw0","created":1527651634894,"text":"示例: du ./test -ah","note":"如果不指定目录, 则统计当前目录\n\n","layout":null},"children":[]},{"data":{"id":"bltty342huo0","created":1527647791594,"text":"参数","layout":null},"children":[{"data":{"id":"bltty60tmcg0","created":1527647797928,"text":"-a (所有)","layout":null},"children":[]},{"data":{"id":"bltty9l0wlk0","created":1527647805680,"text":"-h (加单位,使人易读)","layout":null},"children":[]}]}]},{"data":{"id":"bluompraapc0","created":1527734354925,"text":"fdisk","layout_right_offset":{"x":12,"y":12},"note":"fdisk 可以用来分区, 可以查看硬盘设备,包括没有挂载的硬盘, 也可以查看到\n","layout":null},"children":[{"data":{"id":"bluooe51gww0","created":1527734486363,"text":"fdisk -l (查看磁盘设备)","layout":null},"children":[]},{"data":{"id":"bluonwlenxc0","created":1527734448172,"text":"fdisk /dev/sdb (磁盘分区)","note":"说明:\n\np --主分区[1-4] 或查看现有分区\n\nn -- 添加一个分区\n\nd -- 删除分区\n\n+1G --分配1G空间\n\nw --保存并退出\n\n分区完成查看\n\nfdisk -l\n\n","layout":null},"children":[]}]},{"data":{"id":"bluopw4r6lk0","created":1527734603892,"text":"mke2fs 硬盘设备 -T 指定文件系统 (磁盘格式化)","note":"分区格式化:\nmke2fs 硬盘设备 -T 指定文件系统\n\ninux 文件系统有 ext2, ext3, ext4\n\ncentos 7开始文件系统支持xfs 适合海量数据\n\n格式化为ext2 文件系统\nmke2fs 硬盘设备 -T 指定文件系统\n\n格式化为ext3/4\nmke2fs 硬盘设备 -T ext3\nmke2fs 硬盘设备 -T ext4\n\n例:\nmke2fs /dev/sdb1 -T ext3\nmke2fs /dev/sdb2 -T ext4\n\n升级或格式化\nmke2fs -j /dev/sdb1\n\n检测有没有错误, 有错误会自动修复\ne2fsck -p /dev/sdb1\n\n查看分区的详细属性\ntune2fs -l /dev/sdb1\n\n","layout":null},"children":[{"data":{"id":"bluotf8e0kw0","created":1527734880563,"text":"文件系统","layout":null},"children":[{"data":{"id":"bluotj6zhg00","created":1527734889187,"text":"ext2","layout":null},"children":[]},{"data":{"id":"bluotl2vzeo0","created":1527734893291,"text":"ext3","layout":null},"children":[]},{"data":{"id":"bluotmd78q80","created":1527734896092,"text":"ext4","layout":null},"children":[]},{"data":{"id":"bluotnot47c0","created":1527734898970,"text":"xfs","layout":null},"children":[]}]},{"data":{"id":"bluou7p7jnc0","created":1527734942530,"text":"示例: mke2fs -T ext4 /dev/sdb","layout":null},"children":[]},{"data":{"id":"bluov24fz6g0","created":1527735008755,"text":"参数","layout":null},"children":[{"data":{"id":"bluovcs418g0","created":1527735031954,"text":"-j (升级或格式化)","note":"示例:\nmke2fs -j /dev/sdb1\n","layout":null},"children":[]}]}]},{"data":{"id":"bluoxac9zns0","created":1527735183371,"text":"e2fsck 设备 (ext2 fileSystem ckeck磁盘检查)","layout_right_offset":{"x":23,"y":21},"layout":null},"children":[{"data":{"id":"bluoxep831c0","created":1527735192861,"text":"参数","layout":null},"children":[{"data":{"id":"bluoxibhke00","created":1527735200738,"text":"-p (检查错误并修复)","layout_right_offset":{"x":23,"y":-1},"note":"e2fsck -p /dev/sdb1","layout":null},"children":[]}]}]},{"data":{"id":"blup0kmwdr40","created":1527735440874,"text":"tune2fs (分区管理)","note":"//查看分区属性\ntune2fs -l /dev/sdb1","layout_right_offset":{"x":13,"y":36},"layout":null},"children":[{"data":{"id":"blup1jx5uq00","created":1527735517682,"text":"参数","expandState":"expand","layout":null},"children":[{"data":{"id":"blup1bkb7bs0","created":1527735499490,"text":"-l 查看分区属性","note":"tune2fs -l /dev/sdb1\n","layout":null},"children":[]},{"data":{"id":"blup2cazq1k0","created":1527735579468,"text":"-i 设置分区挂载有效期","note":"设置最多挂载30天\n\ntune2fs -i 30d /dev/sdb1\n","layout":null},"children":[]},{"data":{"id":"blup2z6onzk0","created":1527735629273,"text":"-c 设置分区挂载最大次数","note":"设置最多挂载次数\n\n例: 设置最多挂载30次\n\ntune2fs -c 30 /dev/sdb1\n\n\n","layout":null},"children":[]}]}]},{"data":{"id":"blup5cru5c00","created":1527735815579,"text":"e2label 设备 新名 (修改分区名)","layout_right_offset":{"x":16,"y":25},"note":"修改分区名, 相当于windows 中对分区盘起名字, 比如D盘起名为'娱乐'\n\n例:\ne2label /dev/sdb1 新名\ne2label /dev/sdb1 '娱乐'\n","layout":null},"children":[]},{"data":{"id":"bltetuqf6740","created":1527605143250,"text":"mount 挂载","layout_right_offset":{"x":13,"y":78},"layout":null},"children":[{"data":{"id":"bltetypus940","created":1527605151923,"text":"挂载","note":"挂载:\n如想获取DVD 的数据, \n\n","layout":null},"children":[{"data":{"id":"blteuc878hs0","created":1527605181330,"text":"mount -t 文件系统 -o 选项 设备 挂载点 (临时挂载) ","note":"例:\nmount /dev/cdrom -o iocharset=utf8 /mnt/media\n\n","layout":null},"children":[]},{"data":{"id":"blteueir3sg0","created":1527605186322,"text":"持久挂载 (vi /etc/fstab)","note":"// 持久挂载, 电脑重启后, 不失效,自动挂载上\n\n需要配置文件 /etc/fstab\n格式如下:\n/dev/sdb1                    /mnt/media/sdb1                   ext3    defaults        0 0\n\n第一项:设备\n第二项:挂载点\n第三项:文件系统类型\n第四项:文件系统参数\n第五项:是否备份 0:否,1:是\n第六项:是否检测扇区 0:否,1:是\n\n","layout":null},"children":[]},{"data":{"id":"blteulg5o080","created":1527605201402,"text":"有效期挂载","layout":null},"children":[]},{"data":{"id":"blteuykqsm80","created":1527605229978,"text":"参数说明","layout":null},"children":[{"data":{"id":"bltev0lsfko0","created":1527605234394,"text":"-t 文件系统类型(如tmpfs)","note":"例:\nmount tmpfs -t tmpfs /dev/shm\n","layout":null},"children":[]},{"data":{"id":"blur2wqpbm00","created":1527741266173,"text":"-a (让/etc/fstab 配置的挂载立即生效)","note":"mount -a\n","layout":null},"children":[]}]}]},{"data":{"id":"blur5czvkrk0","created":1527741458285,"text":"mount --查看挂载的分区","layout":null},"children":[]},{"data":{"id":"blteu9bjqgg0","created":1527605175002,"text":"卸载","layout":null},"children":[{"data":{"id":"bltewu31rpc0","created":1527605376929,"text":"umount 挂载点","note":"例:\numount /mnt/media\n","layout":null},"children":[]}]}]}]},{"data":{"id":"blur7nr8xs80","created":1527741638436,"text":"常见目录","layout_right_offset":{"x":105,"y":150},"layout":null,"expandState":"collapse"},"children":[{"data":{"id":"blur7u7u5pk0","created":1527741652500,"text":"/dev","note":"设备目录\n\n涨知识:\nsda 第一块硬盘 其下分区有 sda1, sda2\n\nsdb 第二块硬盘 其下分区有 sdb1, sdb2, sdb3, sdb4","layout":null},"children":[]}]}]},{"data":{"id":"blnzjc8riqo0","created":1527054202926,"text":"文件内容的管理","layout_right_offset":{"x":1031,"y":-3725},"layout":null,"expandState":"expand"},"children":[{"data":{"id":"bm1jimtu3jk0","created":1528430849239,"text":"cat","expandState":"expand","layout":null},"children":[{"data":{"id":"blnztshvxbs0","created":1527055021948,"text":"cat file ","note":"cat file\n例:\ncat /root/dong/phpinfo.php\n\ncat /root/dong/phpinfo.php -n\n\n","layout":null,"expandState":"expand"},"children":[{"data":{"id":"blo0c5kybm80","created":1527056460987,"text":"-n (显示行号)","layout":null},"children":[]}]},{"data":{"id":"bm1jirqz1yw0","created":1528430859950,"text":"cat 监视输入","note":"cat >> key.log << end\n","layout":null},"children":[]}]},{"data":{"id":"blnztvabamw0","created":1527055028021,"text":"more file","note":"分页查看内容","layout":null,"expandState":"collapse"},"children":[{"data":{"id":"blo0ovn36ww0","created":1527057458082,"text":"快捷键","layout":null},"children":[{"data":{"id":"blo0p43sgig0","created":1527057476506,"text":"空格 (下一页)","layout":null},"children":[]},{"data":{"id":"blo0pge2x0w0","created":1527057503250,"text":"b (上一页)","layout":null},"children":[]},{"data":{"id":"blo0pjy0lco0","created":1527057510986,"text":"回车 (下一行)","layout":null},"children":[]},{"data":{"id":"blo0q17m78o0","created":1527057548571,"text":"q (退出分页)","layout":null},"children":[]}]}]},{"data":{"id":"blnztxcedqo0","created":1527055032500,"text":"head file","note":"head 查看文件开头几行\n\n默认是查看10行","layout":null,"expandState":"expand"},"children":[{"data":{"id":"blo0rf1e9k00","created":1527057657034,"text":"-n num (查看开头几行)","note":"head 文件 -n 10\n","layout":null},"children":[]}]},{"data":{"id":"blnztz07oqg0","created":1527055036117,"text":"tail","note":"查看文件尾 默认10行\n\n","layout":null,"expandState":"expand"},"children":[{"data":{"id":"blo0rxmm4v40","created":1527057697499,"text":"-n num (查看尾几行)","note":"tail -n 10 /home/dongzhihong/httpd.log","layout":null},"children":[]},{"data":{"id":"blo0vmz0qps0","created":1527057987762,"text":"tail -f -n 5 file  (监视)","note":"tail 文件名 -n 行数 -f\n说明:\n-f 表示监视文件, 监视的不是文件内容的编辑, 而是append 追加的\n\n\n通常用来监视日志文件\n\n例:这样追加的就能监视到\n\necho 'append content' >> httpd.log\n\n\n＇>＞＇　是输出重定向\n\n","layout":null},"children":[]}]},{"data":{"id":"blo10rzngug0","created":1527058390505,"text":"wc file (统计)","note":"wc 统计文本\nwc --- word count\n\n语法: \nwc 文件 \n\n内容如下:\n行数 单词数  字符数\n\n空行算一个字符\n换行符算一个字符\n\n\n\n","layout":null,"expandState":"collapse"},"children":[{"data":{"id":"blu2wyy29fk0","created":1527673094149,"text":"参数说明","expandState":"expand","layout":null},"children":[{"data":{"id":"blo228t60xs0","created":1527061326592,"text":"-l (只关心行数)","note":"wc  file -l\n","layout":null},"children":[]}]},{"data":{"id":"blu2x52hvyw0","created":1527673107478,"text":"ls | wc -l (统计有多少文件)","layout":null},"children":[]}]},{"data":{"id":"bm5xt0adu800","created":1528877397545,"text":"查看文件的差异 diff file1 file2","layout":null},"children":[]}]},{"data":{"id":"bloqcdhuw000","created":1527129827071,"text":"文件打包压缩","layout_right_offset":{"x":1146,"y":-3708},"note":"要说明的是 打包跟压缩是两码事\n\n打包 tar\n压缩 gzip\n\n","layout":null,"expandState":"expand"},"children":[{"data":{"id":"blt3phu3cmo0","created":1527573769508,"text":"tar","layout_right_offset":{"x":13,"y":0},"expandState":"expand","layout":null},"children":[{"data":{"id":"bloqe40c3ag0","created":1527129963149,"text":"打包 tar -cvf filename.tar file1 file2 ","note":"打包示例:\ntar -cvf demo.tar 1.txt 2.txt 3.txt\n","layout":null},"children":[]},{"data":{"id":"blt0o90int40","created":1527565208611,"text":"拆包 tar -xvf file_name.tar -C dir/","note":"//拆包示例:\ntar -xvf demo.tar -C mydir\n\n//mydir 要事先创建好","layout":null},"children":[]},{"data":{"id":"blt0ubfblr40","created":1527565684045,"text":"打包压缩 tar -zcvf ","note":"//打包并压缩\ntar -zcvf demo.tar.gz 1.txt 2.txt 3.txt\n","layout":null},"children":[]},{"data":{"id":"blt0uf0ks2w0","created":1527565691861,"text":"拆包解压 tar -zxvf","note":"// 拆包解压\ntar -zxvf demo.tar.gz\n","layout":null},"children":[]},{"data":{"id":"blt2rf2l8w00","created":1527571099110,"text":"查看 tar -ztvf ","layout":null},"children":[]},{"data":{"id":"blt0rzet6c00","created":1527565501164,"text":"常见参数说明","layout":null},"children":[{"data":{"id":"blt0s3567ds0","created":1527565509289,"text":"-C 目地的目录","expandState":"expand","layout":null},"children":[]},{"data":{"id":"blt0sbyltg80","created":1527565528483,"text":"-c --create","layout":null},"children":[]},{"data":{"id":"blt0sna8gtk0","created":1527565553131,"text":"-v --verbose","layout":null},"children":[]},{"data":{"id":"blt0suw3wo00","created":1527565569691,"text":"-f --file","layout":null},"children":[]},{"data":{"id":"blt0tpr3kio0","created":1527565636868,"text":"-x --拆包","layout":null},"children":[]},{"data":{"id":"blt0u0qeio00","created":1527565660771,"text":"-z --压缩|解压","layout":null},"children":[]},{"data":{"id":"blt0z0z2v2g0","created":1527566053116,"text":"-t --test检测","layout":null},"children":[]},{"data":{"id":"blt4gxnvem00","created":1527575919793,"text":"-j 使用bzip2","layout":null},"children":[]}]},{"data":{"id":"blt10k4fppk0","created":1527566173163,"text":"文件名后缀表示的含义","layout":null},"children":[{"data":{"id":"blt10ybu7eo0","created":1527566204086,"text":".tar (tar打包的文件)","layout":null},"children":[]},{"data":{"id":"blt14n2sb540","created":1527566493050,"text":"tar.gz (打包后被压缩的文件)","layout":null},"children":[]},{"data":{"id":"blt15duwwrk0","created":1527566551347,"text":".gz (gzip压缩的文件)","layout":null},"children":[]}]}]},{"data":{"id":"blt3ot79cmo0","created":1527573715884,"text":"gzip","expandState":"collapse","layout_right_offset":{"x":20,"y":22},"layout":null},"children":[{"data":{"id":"blt2fr8690g0","created":1527570185199,"text":"压缩 gzip -c file_name > new.gz","note":"-c 表示保留原文件\n","layout":null},"children":[]},{"data":{"id":"blt2fukfpwg0","created":1527570192471,"text":"解压 gunzip -c new.gz","note":"-c 表示保留原文件\n打印出来压缩文件内容 gzip -c file.gz -d\n","layout":null},"children":[]}]},{"data":{"id":"bmy2giyciu80","created":1531734203778,"text":"xz 超高压缩","note":"xz超高压缩, 只能压缩一个文件,通常是将打包后的文件,进行xz压缩\n\n"},"children":[{"data":{"id":"bmy2hl7r4ps0","created":1531734287064,"text":"压缩: xz -z 文件","note":"xz -z index.html\n"},"children":[]},{"data":{"id":"bmy2hr004880","created":1531734299656,"text":"解压: xz -d 压缩文件","note":"xz -d index.html.xz\n"},"children":[]}]},{"data":{"id":"blt3qkfjxwg0","created":1527573853523,"text":"zip","layout_right_offset":{"x":11,"y":9},"layout":null,"expandState":"collapse"},"children":[{"data":{"id":"blt3z134f8w0","created":1527574516690,"text":"压缩 zip new.zip 1.txt","layout":null},"children":[]},{"data":{"id":"blt3zztsyow0","created":1527574592314,"text":"解压 unzip -o -d ./mydir/ new.zip","layout_right_offset":{"x":8,"y":10},"layout":null},"children":[]},{"data":{"id":"blt40g8xrfk0","created":1527574628058,"text":"参数说明","layout":null},"children":[{"data":{"id":"blt40lf9oug0","created":1527574639324,"text":"-o 不提示, 覆盖","layout":null},"children":[]},{"data":{"id":"blt40uiyvl40","created":1527574659139,"text":"-d 解压到目录","layout":null},"children":[]}]}]},{"data":{"id":"blt3qqyinq80","created":1527573867731,"text":"bzip2","note":"Linux bzip2命令是.bz2文件的压缩程序。","layout":null,"expandState":"collapse"},"children":[{"data":{"id":"blt45js8xjk0","created":1527575027577,"text":"压缩 bzip2 file_name","note":"// 可同时压缩多个\nbzip2 1.txt 2.txt \n将会压缩成两个.bz2 文件\n\n","layout":null},"children":[]},{"data":{"id":"blt45lww1eo0","created":1527575032211,"text":"解压 bunzip2 file.bz2","note":"// 解压也可同时解压多个.bz2 文件\n例: bunzip2 1.txt.bz2 2.txt.bz2\n\n\n","layout":null},"children":[]},{"data":{"id":"blt45njms1s0","created":1527575035763,"text":"参数说明","layout":null},"children":[{"data":{"id":"blt4f32w9qo0","created":1527575774857,"text":"-k (保留原文件)","layout":null},"children":[]},{"data":{"id":"blt4f8ipqhc0","created":1527575786697,"text":"-v (打印进度)","layout":null},"children":[]}]}]}]},{"data":{"id":"bmh45fz5uoo0","created":1530012458248,"text":"bash 执行","layout":null},"children":[{"data":{"id":"bmh45j40mtc0","created":1530012465071,"text":"curl -s url | sudo bash (下载不保存, bash执行)","layout":null},"children":[]}]},{"data":{"id":"blo10lkna8w0","created":1527058376537,"text":"其它常见命令","layout_right_offset":{"x":258,"y":-2054},"layout":null,"expandState":"expand"},"children":[{"data":{"id":"blt7gddwce80","created":1527584338984,"text":"奇技淫技","layout":null,"expandState":"expand"},"children":[{"data":{"id":"blt7gky6hhk0","created":1527584355448,"text":"只查看目录","layout":null,"expandState":"expand"},"children":[{"data":{"id":"blt7gqfp2ag0","created":1527584367391,"text":"find * -type d -maxdepth 1","priority":1,"layout":null},"children":[]},{"data":{"id":"blt7hb61f4w0","created":1527584412519,"text":"ls -F | grep '/$'","priority":2,"layout":null},"children":[]},{"data":{"id":"blt7jdfjnxk0","created":1527584574176,"text":"ls -l | grep '^d'","priority":3,"layout":null},"children":[]}]},{"data":{"id":"blzxepp7qe80","created":1528266917659,"text":"查看指令位置 whereis 指令","note":"例:\nwhere is httpd\n\nwhereis usermo","layout":null},"children":[]},{"data":{"id":"bm0o1o92sco0","created":1528342065739,"text":"查看当前登录的用户","layout":null},"children":[{"data":{"id":"bm0o1t9x5s80","created":1528342076674,"text":"who is me","layout":null},"children":[]},{"data":{"id":"bm0o1w4v2mg0","created":1528342082899,"text":"whoami","layout":null},"children":[]}]}]}]},{"data":{"id":"blzusy01h7c0","created":1528259569496,"text":"linux守护进程 daemon","expandState":"expand","note":"linux守护进程,类似于windows的服务, \n通常是需要监听端口的程序需要做成守护进程的方式, 如httpd, mysql, ssh,\n","layout":null},"children":[{"data":{"id":"blzuuqr98s00","created":1528259710456,"text":"管理","layout":null},"children":[{"data":{"id":"blzv2ga5h680","created":1528260314567,"text":"查看","layout":null},"children":[{"data":{"id":"blzv2w1qoqw0","created":1528260348887,"text":"查看所有: chkconfig","layout":null},"children":[]},{"data":{"id":"blzv2o5y4nc0","created":1528260331727,"text":"查看: chkconfig --list 服务名","expandState":"expand","note":"例:\nchkconfig --list iptables","layout":null},"children":[]}]},{"data":{"id":"blzuuw2fgs00","created":1528259722015,"text":"配置: chkconfig --level 2345 服务名 off | on | reset","note":"例:开启httpd 2345 级别\n\nchkconfig --level 2345 httpd on\n","layout":null},"children":[]},{"data":{"id":"bm4v0tjalrs0","created":1528767986473,"text":"添加到守护进程管理: chkconfig --add 服务名","note":"1)复制守护进程文件到/etc/rc.d/init.d/ 并添加两行注释\n# 启动顺序小于100,不然报错\n# chkconfig:2345 88 89\n# Description:注释\n\n2)更改权限\nchmod a+rx /etc/init.d/mysqld\n\n\n3)添加到守护进程\nchkconfig --add mysqld\n","layout":null},"children":[]},{"data":{"id":"bm4utrjezw80","created":1528767433578,"text":"service 服务名 resrtart | stop| start | status","layout":null},"children":[]}]},{"data":{"id":"blzurqws7540","created":1528259475697,"text":"启动级别 (linux运行级别)","note":"守护进程, 启动级别分为0-6 7种\n0: 关机\n1: 单用户模式\n2: 无网络多用户模式\n3: 有网络的多用户模式\n4: 不可用\n5: 带图形界面的多用户模式\n6: 重启 reboot\n\n值为0或1 , 表示关闭或开启\n\n","layout":null},"children":[]},{"data":{"id":"bm35fktn05s0","created":1528594234156,"text":"相关文件","layout":null},"children":[{"data":{"id":"bm35fqgkhco0","created":1528594246426,"text":"/etc/rc.d/","note":"/etc/rc.d  该目录下的所有文件的软链接,都在/etc/下\n名字一一对应\n\n\n\n","layout":null},"children":[{"data":{"id":"bm35jkxny400","created":1528594547856,"text":"rc[0-6].d","note":"/etc/rc.d/目录下有\nrc0.d - rc6.d 7个目录, 分别对应的7个启动级别, 里面的文件全是软连接, 链接到 /etc/rc.d/init.d/目录下的守护进程文件\n\n\nK92iptables -> ../init.d/iptables\nS02lvm2-monitor -> ../init.d/lvm2-monitor\n\n\n上面说明:\nK开头的说明是关闭的\nS开头的说明是开启的\n\n这个文件通常不用动, 用chkconfig 配置\n\nrc0.d - rc6.d 目录中都共同载入了/etc/rc.d/rc.local 软连接, 所以写到这个文件中的base 都会执行, 但是这样,不能用chkconfig 管理(不属于守护进程方式)\n\n\n\n","layout":null},"children":[]},{"data":{"id":"bm35lvtkhwg0","created":1528594728281,"text":"rc.local 脚本启动 所有级别都执行","note":"所有级别都会执行这个文件中的base\n\n例:加入\n/usr/local/http2.4.20/bin/apachectl -k start\n\n只要开机,就会执行这个, 启动httpd服务器\n\n/usr/local/mysql/bin/mysqld_safe --user=mysql &\n\n缺点:不属于守护进程,不能灵活控制, 不能指定哪个级别开启或关闭,不能通过chkconf 管理\n\n","layout":null},"children":[]},{"data":{"id":"bm35v2uffpk0","created":1528595448848,"text":"init.d (守护进程存放目录)","layout":null},"children":[{"data":{"id":"bm35x5jxu280","created":1528595611472,"text":"守护进程文件须知(必须要有两个注释)","note":"# chkconfig: 345 85 15\n# Description: Startup","layout":null},"children":[{"data":{"id":"bm35xk6cp8g0","created":1528595643303,"text":"# chkconfig 345 100 101","layout":null},"children":[]},{"data":{"id":"bm35xxfzp6g0","created":1528595672184,"text":"# Description 描述","layout":null},"children":[]}]}]},{"data":{"id":"bm360al8mow0","created":1528595857528,"text":"rc ","note":"该文件不要动,启动级别与目录处理脚本","layout":null},"children":[]}]}]}]},{"data":{"id":"blzuez9zqvs0","created":1528258475176,"text":"linux安全","expandState":"expand","layout":null},"children":[{"data":{"id":"blzufksi4tc0","created":1528258522008,"text":"防火墙","note":"防火墙的规则一般为白名单, 禁止所有, 允许部分\n","expandState":"expand","layout":null},"children":[{"data":{"id":"blzuggpub880","created":1528258591504,"text":"iptables","note":"iptables linux防火墙\n","expandState":"expand","layout":null},"children":[{"data":{"id":"blzupay5ee80","created":1528259284223,"text":"管理防火墙","expandState":"expand","layout":null},"children":[{"data":{"id":"blzuoxyb3sg0","created":1528259255935,"text":"临时管理","expandState":"expand","note":"临时管理, 在重启后失效\n\n\n","layout":null},"children":[{"data":{"id":"blzujd68mao0","created":1528258818881,"text":"开启: service iptables start","layout":null},"children":[]},{"data":{"id":"blzujhp8y2w0","created":1528258828737,"text":"关闭: service iptables stop","layout":null},"children":[]},{"data":{"id":"blzujl01ykg0","created":1528258835921,"text":"查询状态: service iptables status","layout":null},"children":[]}]},{"data":{"id":"blzupkka2js0","created":1528259305152,"text":"永久管理(守护进程方式)","note":"永久管理, 通过守护进程及启动级别来管理, 重启后, 不会失效\n","layout":null},"children":[{"data":{"id":"blzuw70dmaw0","created":1528259824200,"text":"查看状态: chkconfig --list iptables","layout":null},"children":[]},{"data":{"id":"blzuz40gz540","created":1528260052768,"text":"关闭: chkconfig --level 234 iptables off","layout":null},"children":[]},{"data":{"id":"blzuzas5s1c0","created":1528260067503,"text":"开启: chkconfig --level 234 iptables on ","layout":null},"children":[]}]}]},{"data":{"id":"blzultkphgo0","created":1528259011313,"text":"具体配置","layout":null},"children":[{"data":{"id":"blzulxuxxq80","created":1528259020639,"text":"帮助: iptables --help","layout":null},"children":[]},{"data":{"id":"blzuma0hyfk0","created":1528259047096,"text":"查看规律: iptables --list","layout":null},"children":[]}]}]},{"data":{"id":"blzugkqquzc0","created":1528258600266,"text":"selinux","note":"selinux是linux安全管理机制","layout":null},"children":[{"data":{"id":"blzv7qvvpvk0","created":1528260729470,"text":"守护进程管理(永久)","note":"vi /etc/selinux/config\n修改为 SELINUX=disabled\n\n# 开启\nenforcing","layout":null},"children":[]},{"data":{"id":"blzv7zxr4z40","created":1528260749174,"text":"临时管理","layout":null},"children":[{"data":{"id":"blzveglqvnc0","created":1528261255638,"text":"开启: setenforce 1","layout":null},"children":[]},{"data":{"id":"blzvei95ad40","created":1528261259230,"text":"关闭: setenforce 0","layout":null},"children":[]}]}]}]},{"data":{"id":"bm36wekakjc0","created":1528598373831,"text":"网络配置","layout":null},"children":[{"data":{"id":"bm36wnfte5c0","created":1528598393151,"text":"相关文件","layout":null},"children":[{"data":{"id":"bm36wqrd83s0","created":1528598400380,"text":" 网卡配置文件  /etc/sysconfig/network-scripts/ifcfg-eth0","note":"DEVICE=eth0\nTYPE=Ethernet\nUUID=0652650e-108c-443b-bd41-652b3f793bb1\n# 是否自动启动\nONBOOT=yes\nNM_CONTROLLED=yes\n# 自动获取 静态地址为 static\nBOOTPROTO=dhcp/static\nDEFROUTE=yes\nIPV4_FAILURE_FATAL=yes\nIPV6INIT=no\nNAME=\"System eth0\"\n# MAC地址\nHWADDR=08:00:27:03:0F:1A\n\nPEERDNS=yes\nPEERROUTES=yes\n# DN\nDNS1=114.114.114.114\nDNS2=114.114.115.115\n\n# static状态 \nIPADDR = 192.168.0.100\n# 网关\nGATEWAY=192.168.0.1\n\n# 修改完要重启network\n# 执行 service network restart\n\n","layout":null},"children":[{"data":{"id":"bmhnyo9s0ew0","created":1530068349953,"text":"腾讯服务器网卡配置","note":"eth0:\nBOOTPROTO=none\nDEFROUTE=yes\nDEVICE=eth0\nGATEWAY=10.163.0.1\nHWADDR=52:54:00:17:3c:12\nIPADDR=10.163.15.2\nNETMASK=255.255.128.0\nNM_CONTROLLED=no\nONBOOT=yes\nTYPE=Ethernet\nUSERCTL=no\n\n"},"children":[]}]},{"data":{"id":"bm37053b5j40","created":1528598666669,"text":"本地回环 /etc/sysconfig/network-scripts/ifcfg-lo","note":"\n127.0.0.1","layout":null},"children":[]}]},{"data":{"id":"bm378yys5l40","created":1528599358612,"text":"查看网络 ifconfig [etho0]","layout":null,"note":"centos mini 可能会没有预装该命令,\n需要自己安装\n\nyum search ifconfig\n\nyum install net-tools -y\n\n\n\n \n"},"children":[]},{"data":{"id":"bm379xdoz6g0","created":1528599433524,"text":"测试联通性 ping","note":"注, 服务器可设置, 不允许被\nping\n","layout":null},"children":[{"data":{"id":"bm3cj8svj680","created":1528614269214,"text":"禁止ping","note":"linux禁止ping\n为了服务器的安全, 防止网络攻击(DOS 攻击消耗网络宽带,CPU资源), 需要服务器设置 禁止ping\n通常有两种方式\n第一种是通过防火墙 iptables 设置\n第二种是内核设置 \n如果内核禁止ping , 防火墙设置允许ping 也是ping不通,内核设置允许ping, 防火墙设置不允许ping , 也是不能ping的\n\n","layout":null},"children":[{"data":{"id":"bm3cjewbnb40","created":1528614282483,"text":"防火墙设置禁止ping","note":"# 禁止ping\niptables -A INPUT -p icmp --icmp-type 8 -s 0/0 -j DROP\n\n# 允许ping\niptables -D INPUT -p icmp --icmp-type 8 -s 0/0 -j DROP\n\n\n// 以上区别仅在 A(add)/D(del)\n\n\n","layout":null},"children":[]},{"data":{"id":"bm3cjgraesw0","created":1528614286532,"text":"内核设置禁止ping","note":"临时设置\n# 禁止ping\n\necho 1 > /proc/sys/net/ipv4/icmp_echo_ignore_all\n\n# 允许ping\necho 0 > /proc/sys/net/ipv4/icmp_echo_ignore_all\n\n永久设置\nvi /etc/sysctl.conf\n\n增加或修改:\n# 0表示: 允许, 1: 表示不允许\nnet.ipv4.icmp_echo_ignore_all = 1\n\n# 让生效\nsysctl -p\n\n","layout":null},"children":[]}]}]},{"data":{"id":"bm374c2enzk0","created":1528598995309,"text":"重启生效 service network restart","layout":null},"children":[]},{"data":{"id":"bm37529caxc0","created":1528599052324,"text":"关闭网卡 ifdown eth0","note":"关了,ssh就不能链接了, 必须在屋里机上操作才能开启\n","layout":null},"children":[]},{"data":{"id":"bm3758s74940","created":1528599066525,"text":"开启网卡 ifup eho0","layout":null},"children":[]}]},{"data":{"id":"blzufq6gomw0","created":1528258533736,"text":"用户和组","note":"linux一切皆文件, 用户权限是在文件属性上定义的\n\n三种用户, 分别设置权限\n权限有三种\n\n","layout":null},"children":[{"data":{"id":"bm061qkd4680","created":1528291290797,"text":"用户和组","layout":null},"children":[{"data":{"id":"bm061tps5a80","created":1528291297655,"text":"组","layout":null},"children":[{"data":{"id":"bm062yue63c0","created":1528291387182,"text":"有效组","note":"一个用户只有一个有效组\n/etc/passwd \n\nroot:x:0:0:root:/root:/bin/bash\n\n第四个参数就是有效组\n\n\n在创建用户时, 会初始化一个跟用户名同名的组, 并且这个组就是这个用户的有效组 (有效组的的决定在创建用户时决定, 后期可改)\n\n文件创建时,创建文件的用户的有效组就是这个新创建的文件的有效组\n\n概念:\n所属组:该用户的所有的组, 可能是多个\n有效组:该用户特殊的组, 只有一个\n\n在实际开发中, 一般是先创建组, 比如phper, 然后把各个php用户加入到这个phper组中, 统一管理权限\n\n\n例:\ngroupadd phper\nuseradd -g phper php1\n\n","layout":null},"children":[]}]}]},{"data":{"id":"bm0ne8o4a1s0","created":1528340229445,"text":"组group","layout":null},"children":[{"data":{"id":"bm0nfkq4wio0","created":1528340334052,"text":"组操作","layout":null},"children":[{"data":{"id":"bm0ng5e2tqw0","created":1528340379036,"text":" 查看当前用户的组: groups / groups 用户名","note":"例: 查看当前用户属于哪些组\ngroups\n\n查询结果:\nroot\n\n例:查看like用户属于哪些组\ngroups like\n\n查询结果:\nlike : dongzhihong phper1\n\n\n\n","layout":null},"children":[]},{"data":{"id":"bm0ng1d3dnk0","created":1528340370269,"text":"添加组: groupadd 组名","note":"添加组:groupadd 组名\n\n例:添加一个phper2 组\ngroupadd phper2\n\n","layout":null},"children":[]},{"data":{"id":"bm0ngiwu9940","created":1528340408469,"text":"修改组: groupmod","layout":null},"children":[{"data":{"id":"bm0nmu6gzsg0","created":1528340903180,"text":"-n ---改组名","note":"示例:phper1 改为phper\n\ngroupmod phper phper1\n\n","layout":null},"children":[]},{"data":{"id":"bm0nn1vwnog0","created":1528340919956,"text":"-g ---改组gid","layout":null},"children":[]}]},{"data":{"id":"bm0ngnr8obk0","created":1528340419013,"text":"删除组: groupdel 组名","note":"例:\ngroupdel phper2\n","layout":null},"children":[]}]},{"data":{"id":"bm0nfy3gppc0","created":1528340363156,"text":"相关文件","layout":null},"children":[{"data":{"id":"bm0owfs6w680","created":1528344476593,"text":"编辑组文件: vi /etc/group","note":"一行表示一个组\n\nphper2:x:508:like\n\n\n第一个:组名\n第二个:密码\n第三个:组id gid\n第四个:用户(usermod -G指定的用户)\n\n\n","layout":null},"children":[]}]}]},{"data":{"id":"bm0ndr5xyfc0","created":1528340191340,"text":"用户","expandState":"expand","layout":null},"children":[{"data":{"id":"bm04vva1e8o0","created":1528288009762,"text":"用户操作","layout":null},"children":[{"data":{"id":"bm0ntchqipk0","created":1528341413228,"text":"修改用户信息","expandState":"expand","layout":null},"children":[{"data":{"id":"bm04xxhomdk0","created":1528288171306,"text":"添加用户: useradd/adduser 用户名","note":"创建用户的同时, 会在/home/创建用户名对应的用户家目录, 例\nuseradd dong\n就会生成目录 /home/dong\n\n","layout":null},"children":[]},{"data":{"id":"bm04y0k5kwo0","created":1528288177986,"text":"删除用户","layout":null},"children":[{"data":{"id":"bm056e9cqjk0","created":1528288834721,"text":"保留用户目录删除用户: userdel 用户名","layout":null},"children":[]},{"data":{"id":"bm056k712k80","created":1528288847641,"text":"删除用户同时删除用户目录: userdel -r 用户名","layout":null},"children":[]}]},{"data":{"id":"bm04y2zl92w0","created":1528288183273,"text":"修改密码: passwd 用户名","layout":null},"children":[]},{"data":{"id":"bm057oyjx2g0","created":1528288936377,"text":"修改用户名: usermod -l 新名字 用户名","layout":null},"children":[]}]},{"data":{"id":"bm0ntl1c8kg0","created":1528341431828,"text":"修改用户组信息","layout":null},"children":[{"data":{"id":"bm0nv6tkkc00","created":1528341557612,"text":"修改用户扩展组:usermod -G 组1,组2 用户名","note":"添加, 修改都用它\n例:当前like用户只有一个组 dongzhihong , 给增加两个组\nphper1, phper2\n\n命令:\nusermod -G phper1,phper2 like\n\n执行后, 将有三个组, 分别是\ndongzhihong,phper1,phper2\n\n\n","layout":null},"children":[]},{"data":{"id":"bm0nv9xwvv40","created":1528341564404,"text":"查看组: groups 用户名","layout":null},"children":[]},{"data":{"id":"bm0p10s9uvc0","created":1528344835767,"text":"修改用户所属组: usermod -g 组名 用户名","note":"例: 当前like 用户所属组是dongzhihong\n我想改成root, 命令如下:\n\nusermod -g root like\n\n查看\ncat /etc/passwd\n\nlike:x:500:0::/home/dongzhihong:/bin/bash\n\n","layout":null},"children":[]}]}]},{"data":{"id":"bm05s1iktqo0","created":1528290530992,"text":"相关文件","layout":null},"children":[{"data":{"id":"bm05s3wsalc0","created":1528290536205,"text":"/etc/passwd ---用户文件","note":"like:x:500:500::/home/dongzhihong:/bin/bash\n\n用冒号分割\n分别是:\nlike 用户\nx 密码\n500 uid 用户id\n500 gid 组id\n说明\n/home/dongzhihong 家目录\n/bin/bash 登录的shell\n\nuid 与gid 分配\n如果新建一个用户 uid , gid 均从500开始\n\n0 超级管理员\n1-499  系统保留\n500 及以上 自定义的用户\n\n\ngid 为uid的有效组\n","layout":null},"children":[]},{"data":{"id":"bm05xv2dabc0","created":1528290987136,"text":"/etc/shadow ---用户密码文件","note":"hong:!!:17683:0:99999:7:::\n\n说明:\n* 表示没有密码\n!! 表示用户锁定, 不让登录\n\n密码是经过加密的\n\n","layout":null},"children":[]},{"data":{"id":"bm0my2zwlj40","created":1528338963270,"text":"相关文件管理","expandState":"expand","layout":null},"children":[{"data":{"id":"bm0mxja8diw0","created":1528338920359,"text":"pwck ---校验passwd 与 shadow是否完整","expandState":"expand","layout":null},"children":[]},{"data":{"id":"bm0mvdenwgo0","created":1528338750838,"text":"pwconv ---同步passwd 到shadow","note":"pwconv 注：同步用户从/etc/passwd 到/etc/shadow","layout":null},"children":[]},{"data":{"id":"bm0n3xkm3jc0","created":1528339421646,"text":"pwunconv ---pwconv的逆操作","layout":null},"children":[]}]}]}]}]},{"data":{"id":"bm0n8v5pkm80","created":1528339808213,"text":"文件权限","note":"linux一切皆文件\n权限就是用户对文件的处得功能的限制, \n文件决定了, 哪些用户可以对文件进行哪些操作\n\n\n另一种权限控制方案:\nACL (access controll list)\n可以更详细的控制权限\n\n","expandState":"expand","layout":null},"children":[{"data":{"id":"bm04xgbyb800","created":1528288133954,"text":"每个文件权限分别三种用户分别设置","expandState":"expand","note":"示列:\n\n-rw-r--r-- 1 like phper 0 Jun  7 12:54 a.txt\n\n以上分为三部分\n第一个字符不看,第二个开始\n\n第一部分 用户权限 rw- 表示读写\n第二部分 组权限  r-- 表示只读\n第三部分 其它用户 r-- 表示只读\n\n数字值\n1 excute\n2 write\n4 read\n\n3 : 1 | 2 \n5 : 1 | 4\n6 : 2 | 4\n7 : 1 : 2 : 4\n\n\n\n","layout":null},"children":[{"data":{"id":"bm106lfln0g0","created":1528376304743,"text":"用户","expandState":"expand","layout":null},"children":[{"data":{"id":"bm0q070u4w00","created":1528347592092,"text":"三种用户","expandState":"expand","layout":null},"children":[{"data":{"id":"bm04vxs0eiw0","created":1528288015202,"text":"所有者","note":"该文件的创建人, 后续可改\n","priority":1,"layout":null},"children":[]},{"data":{"id":"bm04w0ma8qo0","created":1528288021386,"text":"所有组","note":"用户所属的分组\n将部分用户集中管理, linux中用户跟组的关系是多对多,一个用户可对应多个组,\n一个组中有多个用户\n","priority":2,"layout":null},"children":[]},{"data":{"id":"bm04waarm2w0","created":1528288042458,"text":"其它用户","note":"非所有者和所有组的用户, 即第三者\n\n","priority":3,"layout":null},"children":[]}]},{"data":{"id":"bm1072b0chs0","created":1528376341471,"text":"操作","expandState":"expand","layout":null},"children":[{"data":{"id":"bm0rz6lezk00","created":1528353155015,"text":"chown [-R]用户名 文件名 ---更改所有者","note":"例:\nchown root b.txt\n\n\n","layout":null},"children":[]},{"data":{"id":"bm0yzpxn6q00","created":1528372944882,"text":"chgrp [-R]组名 文件名 ---更改有效组","note":"chgrp phper b.txt","layout":null},"children":[]},{"data":{"id":"bm1079w7f4w0","created":1528376357990,"text":"chown [-R] 用户:组 文件或目录","note":"chown root:phper b.txt\n","layout":null},"children":[]}]}]},{"data":{"id":"bm0q0h1dlew0","created":1528347613892,"text":"三种权限","layout":null},"children":[{"data":{"id":"bm0q0k5qiko0","created":1528347620686,"text":"只读read: r 4 ","priority":1,"layout":null},"children":[]},{"data":{"id":"bm0q0ro4moo0","created":1528347637036,"text":"可写write: w 2","priority":2,"layout":null},"children":[]},{"data":{"id":"bm0q0vysr200","created":1528347646388,"text":"执行execute : x 1","priority":3,"note":"执行权限, 执行文件的目录跟该文件需要有可执行权限, 并且要有可读权限\n","layout":null},"children":[]},{"data":{"id":"bm0rf25tfeo0","created":1528351578081,"text":"其它","expandState":"expand","layout":null},"children":[{"data":{"id":"bm0rf71ivoo0","created":1528351588705,"text":"3: -wx","layout":null},"children":[]},{"data":{"id":"bm0rhqpd2ko0","created":1528351788234,"text":"5: r-x","note":"一个目录必须有rx 才能够读取目录下的文件\n\n例: sub目录只读, 进入sub目录使用 ls 命令没有权限的\n","layout":null},"children":[]},{"data":{"id":"bm0rhz5dq5c0","created":1528351806617,"text":"6: rw- ","layout":null},"children":[]},{"data":{"id":"bm0rjhnlqa80","created":1528351925265,"text":"7: rwx","layout":null},"children":[]}]}]}]},{"data":{"id":"bm0rknr0eg80","created":1528352016896,"text":"设置权限 chmod","layout":null},"children":[{"data":{"id":"bm0rrdnhozs0","created":1528352543464,"text":"chmod 555 文件","layout":null},"children":[]},{"data":{"id":"bm0rrza8n8g0","created":1528352590552,"text":"chmod -R 555  目录","note":"chmod 支持字母参数\nu,g,o,a\nu : 用户 user\ng : 分组 group\no : 其它 other\na : 所有 all\n\n三种权限:\nr, w, x, -\n\nr : read 4\nw : write 2\nx : excete 1\n- : 0\n","layout":null},"children":[]},{"data":{"id":"bm10ja0job40","created":1528377298622,"text":"其它操作","layout":null},"children":[{"data":{"id":"bm10ji6i9n40","created":1528377316397,"text":"操作符","layout":null},"children":[{"data":{"id":"bm10jlsc3u80","created":1528377324247,"text":"+ ---增加","note":"chmod u+x,g+r,o+w a.txt\n","layout":null},"children":[]},{"data":{"id":"bm10jnex4kw0","created":1528377327790,"text":"- ---减","note":"chmod u-x,g-r,o-w a.txt","layout":null},"children":[]},{"data":{"id":"bm10joy3fio0","created":1528377331126,"text":"= ---重新赋值","note":"chmod u=x,g=r,ow a.txt","layout":null},"children":[]}]},{"data":{"id":"bm10jryutts0","created":1528377337702,"text":"参数","layout":null},"children":[{"data":{"id":"bm10ju63d9s0","created":1528377342494,"text":"r ---read","note":"chmod u=rw,g=rw,o=r a.txt\n","layout":null},"children":[]},{"data":{"id":"bm10jvi9rug0","created":1528377345407,"text":"w ---write","note":"chmod u=rw,g=rw,o=r a.txt","layout":null},"children":[]},{"data":{"id":"bm10k05hw740","created":1528377355518,"text":"x ---excute","note":"chmod u=rw,g=rw,o=r a.txt","layout":null},"children":[]}]},{"data":{"id":"bm10k455u4w0","created":1528377364205,"text":"用户","layout":null},"children":[{"data":{"id":"bm10k6wo15s0","created":1528377370222,"text":"u ---用户user","layout":null},"children":[]},{"data":{"id":"bm10kbqi1gg0","created":1528377380733,"text":"g ---分组group","layout":null},"children":[]},{"data":{"id":"bm10kjzsv340","created":1528377398709,"text":"o --其它other","layout":null},"children":[]},{"data":{"id":"bm10knixgcg0","created":1528377406396,"text":"a --所有all","layout":null},"children":[]}]}]},{"data":{"id":"bm10r18afg80","created":1528377906413,"text":"常见的权限设置","layout":null},"children":[{"data":{"id":"bm10r6hc7a80","created":1528377917844,"text":"777","layout":null},"children":[]},{"data":{"id":"bm10r99pw600","created":1528377923914,"text":"755","layout":null},"children":[]},{"data":{"id":"bm10rl10q8g0","created":1528377949509,"text":"644","note":"创建的文件默认是644\n","layout":null},"children":[]},{"data":{"id":"bm10ro69s2o0","created":1528377956357,"text":"660","layout":null},"children":[]}]}]}]}]}]},{"data":{"id":"blnyuizbjk80","created":1527052258489,"text":"其它常用命令","expandState":"collapse","layout":null},"children":[{"data":{"id":"blnyumq8x6w0","created":1527052266647,"text":"date (获取时间)","layout":null},"children":[]}]},{"data":{"id":"blnxdaay84g0","created":1527048086300,"text":"反引号跟$() 中的会当作shell命令","expandState":"collapse","layout":null},"children":[{"data":{"id":"blnxdmt6p2o0","created":1527048113524,"text":"echo `echo 100`","layout":null},"children":[]},{"data":{"id":"blnxdwillrc0","created":1527048134652,"text":"echo $(echo 100)","layout":null},"children":[]}]},{"data":{"id":"bln2u4w81m00","created":1526961952309,"text":"多用户切换","note":"多用户, linux提供了控制台, 一共有6个\n用于真实机上, 不是用于远程连接上的!\n\n一个用户可以同时登录多个控制台","expandState":"expand","layout":null},"children":[{"data":{"id":"bln2u9t36ps0","created":1526961963004,"text":"alt+(F1~F6)","layout":null},"children":[]},{"data":{"id":"bm0licaprzc0","created":1528334908578,"text":"users ---查看当前登录的用户","note":"users 命令用于查看当前系统登录的有哪些用户, 如果同一个用户登录多个, 则会多次显示\n\n","layout":null},"children":[]}]},{"data":{"id":"bm97e862z4o0","created":1529209130206,"text":"linux安全","layout":null},"children":[{"data":{"id":"bm97efq2iiw0","created":1529209146652,"text":"暴力破解","layout":null},"children":[{"data":{"id":"bm97eibqos80","created":1529209152316,"text":"hydra ","layout":null},"children":[]}]},{"data":{"id":"bm97rcmvdxs0","created":1529210158662,"text":"暴力破解防御","layout":null},"children":[{"data":{"id":"bm97rjxbvwg0","created":1529210174532,"text":"蜜罐","layout":null},"children":[]}]}]},{"data":{"id":"bln32bei5e00","created":1526962593389,"text":"linux文件系统布局","layout_right_offset":{"x":8,"y":134},"expandState":"expand","layout":null},"children":[{"data":{"id":"blzwlukefcg0","created":1528264655691,"text":"文件系统布局","note":"linux 由根像树一样延生, 不像windows, linux没有盘符区分,\n分区是挂载到文件系统上的\n\n","expandState":"expand","layout":null},"children":[{"data":{"id":"blzwm09hhqo0","created":1528264668091,"text":"/","expandState":"expand","layout":null},"children":[{"data":{"id":"blzwm6n1bg00","created":1528264681971,"text":"/home","note":"家目录 ~ ","layout":null},"children":[]},{"data":{"id":"blzwmbhegr40","created":1528264692515,"text":"/root","note":"root 用户目录\n","layout":null},"children":[]},{"data":{"id":"blzwmfv8yj40","created":1528264702059,"text":"/usr","note":"软件资源目录\n相当于winsows 软件安装目录\n\n","layout":null},"children":[{"data":{"id":"blzwn4mdej40","created":1528264755943,"text":"/usr/local","note":"本机用\n像httpd, php 之类的一般安装到这里\n","layout":null},"children":[]},{"data":{"id":"blzwsh98c6g0","created":1528265175266,"text":"/usr/share","note":"共享软件\n","layout":null},"children":[]}]},{"data":{"id":"blzwmj043rc0","created":1528264708884,"text":"/var","note":"动态生生成的文件, 相当于windows 的AppData\n","layout":null},"children":[]},{"data":{"id":"blzwr5kgezs0","created":1528265071459,"text":"/etc","note":"通用配置文件在这里\n\n","layout":null},"children":[]},{"data":{"id":"blzwmtdlf2w0","created":1528264731467,"text":"/dev","note":"/dev 设备目录, 比如cdrom \n","layout":null},"children":[]},{"data":{"id":"blzwmxjies00","created":1528264740531,"text":"/media","note":"/media 媒体目录, 通常DVD挂载到这个目录下的CentOS,做为YUM源使用\n\n","layout":null},"children":[]},{"data":{"id":"blzwn07aaao0","created":1528264746323,"text":"/mnt","note":"/mnt mount 通用一个挂载点\n","layout":null},"children":[]},{"data":{"id":"blzwy9u82nc0","created":1528265629306,"text":"/bin","note":"/bin\n普通执行文件\n","layout":null},"children":[]},{"data":{"id":"blzwyn8ui8w0","created":1528265658489,"text":"/sbin","note":"/sbin\n系统级别执行文件\n","layout":null},"children":[]},{"data":{"id":"blzxfyfgd200","created":1528267015024,"text":"/tmp","note":"/tmp 临时文件目录","layout":null},"children":[]},{"data":{"id":"bm8ixbzf5rs0","created":1529140099681,"text":"/srv","note":"例:git裸仓库存放\n\n","layout":null},"children":[]}]}]},{"data":{"id":"bln32fvcyyw0","created":1526962603116,"text":"文件","layout":null},"children":[{"data":{"id":"bln332i3p0g0","created":1526962652380,"text":"隐藏文件(点开头)","layout":null},"children":[]},{"data":{"id":"bln337y1izs0","created":1526962664227,"text":"正常文件","layout":null},"children":[]},{"data":{"id":"blzwx4q3z480","created":1528265539810,"text":"分类","layout":null},"children":[{"data":{"id":"blzwxb8fr740","created":1528265553978,"text":"普通文件","layout":null},"children":[]},{"data":{"id":"blzwxds3hnk0","created":1528265559521,"text":"设备文件","layout":null},"children":[]},{"data":{"id":"blzwxh6cs280","created":1528265566913,"text":"软链接文件","layout":null},"children":[]},{"data":{"id":"blzwxogdqjk0","created":1528265582757,"text":"目录文件","layout":null},"children":[]}]}]},{"data":{"id":"bln32icnym80","created":1526962608515,"text":"目录","layout":null},"children":[]}]},{"data":{"id":"blp6uolhcjk0","created":1527176399549,"text":"服务器相关","layout":null,"expandState":"expand"},"children":[{"data":{"id":"bm3cw1q0dvk0","created":1528615272538,"text":"http服务器","expandState":"expand","layout":null},"children":[{"data":{"id":"bm3cuv2etd40","created":1528615179686,"text":"apache/httpd","layout":null,"note":"\n\n"},"children":[{"data":{"id":"bm3e2wh8pgw0","created":1528618630782,"text":"源码安装","note":"# httpd安装步骤:\n# 下载资源\n# apr\nwget http://mirror.bit.edu.cn/apache//apr/apr-1.6.3.tar.gz\n# apr-util\nwget http://mirror.bit.edu.cn/apache//apr/apr-util-1.6.1.tar.gz\n# apr-iconv\nwget http://mirrors.tuna.tsinghua.edu.cn/apache//apr/apr-iconv-1.2.2.tar.gz\n# pcre\nwget ftp://ftp.csx.cam.ac.uk/pub/software/programming/pcre/pcre-8.39.tar.gz\n# httpd apache\nwget http://mirrors.hust.edu.cn/apache/httpd/httpd-2.4.29.tar.gz \n# php5.6\nwget -c -O  php5.6.36.tar.gz  http://cn2.php.net/get/php-5.6.36.tar.gz/from/this/mirror\n\n\n\n\n\n# 安装依赖 gcc, apr,apr-iconv,apr-util,pcre\n\nyum install gcc\n\n\n\n\n\n# 配置,说明指定apr,apr-util,pcrre安装目录, 并开启动态模块\n\n ./configure --prefix=/usr/local/httpd --enable-so --with-apr=/  --with-apr-util=/  --with-pcre=/\n\n\n# 编译安装\n$ make && make install\n\n# 服务器配置\n\n\n","layout":null},"children":[]},{"data":{"id":"bm4tz5ffqg80","created":1528765034523,"text":"相关文件","layout":null},"children":[{"data":{"id":"bm4tz8merso0","created":1528765041475,"text":"bin/apachectl","note":"该文件是,守护进程文件,需要加两段注释\n\n执行 \nbin/apachectl -k start|stop\n","layout":null},"children":[]},{"data":{"id":"bm9bpmhrt9c0","created":1529221307833,"text":"httpd.conf 主配置文件","layout":null},"children":[]}]},{"data":{"id":"bm42qiut4bk0","created":1528688188506,"text":"配置","layout":null},"children":[{"data":{"id":"bm42ql5mw080","created":1528688193514,"text":"server-status","layout":null},"children":[]},{"data":{"id":"bm9bq9ysrs00","created":1529221358928,"text":"httpd用户跟组","note":"Group daemon\nuser daemon\n\n\ndaemon: 守护进程\n说明httpd默认是daemon组,daemon用户\n\n可通过phpinfo()搜索group ,user关键字,查看\n\n\n","layout":null},"children":[]}]}]},{"data":{"id":"bm3cvp5pr540","created":1528615245189,"text":"nginx","layout":null},"children":[]}]},{"data":{"id":"bm9bsng70yo0","created":1529221545007,"text":"常见问题","layout":null},"children":[{"data":{"id":"bm9bsq8vep40","created":1529221551094,"text":"目录没权限","note":"目录没权限, 是目录的用户跟组没有设置正确\n\nhttpd的默认用户跟组都是daemon\nnginx的用户跟组都是nginx\n\n\n","layout":null},"children":[]}]},{"data":{"id":"bm3cwmk26kw0","created":1528615317890,"text":"数据库","expandState":"expand","layout":null},"children":[{"data":{"id":"bm3cvrln39k0","created":1528615250506,"text":"mysql","layout":null},"children":[{"data":{"id":"bm49mcgmfjk0","created":1528707608900,"text":"mysql官网","layout":null},"children":[{"data":{"id":"bm49mfvkhq80","created":1528707616334,"text":"linux-generic (编译好的,就是绿色版)","note":"编译好的,缺点比较大,优点,避免编译安装容易出错的问题\n\n①源码安装，优点是安装包比较小，只有十多M，缺点是安装依赖的库多，安装编译时间长，安装步骤复杂容易出错；\n\n②使用官方编译好的二进制文件安装，优点是安装速度快，安装步骤简单，缺点是安装包很大，300M左右。以下介绍linux使用官方编译好的二进制包安装mysql","layout":null},"children":[]}]},{"data":{"id":"bm4ua57ev080","created":1528765896043,"text":"安装","layout":null},"children":[{"data":{"id":"bm4ua8tge000","created":1528765903907,"text":"源码安装","layout":null},"children":[{"data":{"id":"bm4uaegk24w0","created":1528765916187,"text":"配置 cmake","layout":null},"children":[]}]}]},{"data":{"id":"bm4ucnlg07s0","created":1528766092802,"text":"相关文件","layout":null},"children":[{"data":{"id":"bm4ud0ceq3s0","created":1528766120554,"text":"/etc/my.cnf (全局mysql配置文件,mysql5.7可写全局, 不会采用)","layout":null},"children":[]},{"data":{"id":"bm4ue7mbk6w0","created":1528766214755,"text":"mysql/support-files/","expandState":"expand","layout":null},"children":[{"data":{"id":"bm4ucqbqy3k0","created":1528766098746,"text":"support-files/my-default","note":"mysql5.6 有此文件, \nmysql5.7及以上没有该文件, 需要手动创建\n","layout":null},"children":[]},{"data":{"id":"bm4uer3svrk0","created":1528766257171,"text":"mysql.server (守护进程文件)","layout":null},"children":[]}]},{"data":{"id":"bm4ug156mjk0","created":1528766357387,"text":"mysql/bin/mysqld_safe (mysql运行)","note":"# 后台执行\nmysql/bin/mysqld_safe --user=mysql &\n\n\n","layout":null},"children":[]},{"data":{"id":"bm4uij13ngw0","created":1528766553050,"text":"mysql/bin/mysql -uroot -p (客户端连接)","layout":null},"children":[]}]},{"data":{"id":"bm4uhv9hhcg0","created":1528766501314,"text":"查看: ps -e | grep mysqld","layout":null},"children":[]},{"data":{"id":"bm4ui4qovvk0","created":1528766521946,"text":"密码修改 ","layout":null},"children":[{"data":{"id":"bm4uj5kj1fk0","created":1528766602114,"text":"mysql5.6","note":"mysql5.6 默认密码是空用户名root\n\nupdate mysql.user set password=password('你的密码') where user='root';\n","layout":null},"children":[]},{"data":{"id":"bm4uj9622jk0","created":1528766609946,"text":"mysql5.7","note":"mysql5.7 初始密码在执行初始化时, 随机生成密码, 记得妥善保存,进入后, 要求修改密码\n\n\nalter user 'root'@'localhost' identified by '你的密码';\n","layout":null},"children":[]}]},{"data":{"id":"bm4ul7sfraw0","created":1528766763674,"text":"刷新权限","note":"flush privileges\n","layout":null},"children":[]},{"data":{"id":"bmtjkko6s7k0","created":1531274680059,"text":"配置"},"children":[{"data":{"id":"bmtjkn0l3wo0","created":1531274685162,"text":"查看mysql配置文件","note":"/usr/bin/mysql --help | grep -A1 'Default options'"},"children":[]}]}]}]},{"data":{"id":"bm3cwqjziuw0","created":1528615326593,"text":"语言脚本","expandState":"expand","layout":null},"children":[{"data":{"id":"bm3cvo3h4ew0","created":1528615242877,"text":"php","expandState":"expand","layout":null},"children":[{"data":{"id":"blp6uvrv7c00","created":1527176415172,"text":"安装","note":"- 1:安装工具包 wget、vim和gcc\nyum install -y wget  \nyum install -y vim-enhanced  \nyum install -y make cmake gcc gcc-c++\n\n- 下载nginx安装包\nwget http://nginx.org/download/nginx-1.9.9.tar.gz\n\n- 安装依赖包\nyum install -y pcre pcre-devel\nyum install -y zlib zlib-devel\nyum install -y openssl openssl-devel\n\n- 解压\ntar zxvf nginx-1.9.9.tar.gz\n\n- 进行configure配置\n进入目录运行 \n./configure --prefix=/usr/local/nginx\n\n- 编译安装\nmake && make install\n\n- 启动Nginx，启动完之后检查nginx是否已经正常启动，看到如下信息说明正常启动\n\n/usr/local/nginx/sbin/nginx\n\nps -ef | grep nginx\n\n- 如果要关闭nginx，我们可以使用如下命令：\n/usr/local/nginx/sbin/nginx -s stop\n\n- 如果想要重新热启动nginx，则使用如下命令：\n/usr/local/nginx/sbin/nginx -s reload\n\n\n\n","layout":null},"children":[{"data":{"id":"bm4u0oacwww0","created":1528765153939,"text":"源码安装","note":"# php不同扩展的依赖不一样, 具体见php官网说明\n\n例如 gd库要 --with-gd\n编译gd库要libpng和libjpeg\n\n\n","layout":null},"children":[]},{"data":{"id":"bm4u35z0szc0","created":1528765349164,"text":"php与apache关联","note":"1.php安装前编译时,需要加上 --with-apxs2=/usr/local/httpd/bin/apxs\n\n2.位置具体看apache的安装位置, 并且apache安装前配置 --enable-so\n\n3.配置httpd.conf\n1) 开启\nLoadModule php5_module modules/libphp5.so\n\n2) 加入\n<FilesMatch \\.php$>\n SetHandler application/x-httpd-php\n</FilesMatch>\n\n3)重启服务器\n\n\n\n","layout":null},"children":[]}]},{"data":{"id":"bm3cxwvdazc0","created":1528615418706,"text":"php扩展","layout":null},"children":[{"data":{"id":"bm3cy2nwcm80","created":1528615431315,"text":"swoole","layout":null},"children":[]}]},{"data":{"id":"bm46acqt3s00","created":1528698205816,"text":"配置","layout":null,"note":"phpinfo() //可查询php.ini所在位置\n\n"},"children":[{"data":{"id":"bm46af8rypk0","created":1528698211256,"text":"相文文件","layout":null},"children":[{"data":{"id":"bm46ajl52000","created":1528698220711,"text":"php.ini","layout":null,"note":"php.ini 配置文件在php的源码中复制\n,改名\n\n复制到例如:\n/usr/local/php/lib/php.ini\n\n"},"children":[{"data":{"id":"bm46als0ie80","created":1528698225480,"text":"php.ini-development (开发环境)","layout":null},"children":[]},{"data":{"id":"bm46bkxs8dc0","created":1528698302016,"text":"php.ini-production (生产环境)","layout":null},"children":[]}]}]},{"data":{"id":"bm4u9c8b9f40","created":1528765832971,"text":"时区","note":"php.ini\ndate.timezone=PRC\n","layout":null},"children":[]},{"data":{"id":"bmtjhktlepk0","created":1531274445293,"text":"查看配置文件位置: ./php -i | grep \"Loaded Configuration\""},"children":[]}]}]}]},{"data":{"id":"bm3cwfp1mqo0","created":1528615302955,"text":"缓存服务器","expandState":"expand","layout":null},"children":[{"data":{"id":"bm3cvxaq4800","created":1528615262906,"text":"redis","layout":null},"children":[]},{"data":{"id":"bm3cvt5vgfk0","created":1528615253906,"text":"memcache","layout":null},"children":[]}]},{"data":{"id":"bm3cxjqiewo0","created":1528615390114,"text":"文件服务器","layout":null},"children":[{"data":{"id":"bm3cxm75he80","created":1528615395474,"text":"ftp","layout":null},"children":[]},{"data":{"id":"bm3e24nqz2w0","created":1528618570226,"text":"sftp(secure ftp) 由ssh提供22端口","layout":null},"children":[]},{"data":{"id":"bm47vovf2zk0","created":1528702698973,"text":" ","layout":null},"children":[]}]},{"data":{"id":"bm47w1ljq740","created":1528702726675,"text":"ssh 22端口 远程连接","note":"最小化安装的centos 也是ssh连接的, 可以远程连接,及sftp传输文件","layout":null},"children":[{"data":{"id":"bm4s0beogrk0","created":1528759483682,"text":"故障","note":"情况：virtualBox 虚拟机在路由器断电恢复电后, ssh 远程链接不上,查看ssh服务是开启的, ifconfig eth0,IP地址没有分配\n\n解决:关闭linux系统, 退出virtualBox,重启,正常\n\n","layout":null},"children":[]}]},{"data":{"id":"bm4vcu96ywg0","created":1528768928409,"text":"lamp","note":"操作环境: linux centos 7.4 64位 腾讯云服务器\n\n# 一.安装apache (httpd)\n# 安装依赖:gcc, apr, apr-util,apr-iconv, pcre\n# 安装gcc\nyum install gcc\n# apr, apr-util, apr-iconv , pcre yum没有, 需要下载源码安装\n# 获取apr\nwget http://mirror.bit.edu.cn/apache//apr/apr-1.6.3.tar.gz\n# 获取apr-util\nwget http://mirror.bit.edu.cn/apache//apr/apr-util-1.6.1.tar.gz\n# 获取apr-iconv\nwget http://mirrors.tuna.tsinghua.edu.cn/apache//apr/apr-iconv-1.2.2.tar.gz\n# 获取pcre\nwget ftp://ftp.csx.cam.ac.uk/pub/software/programming/pcre/pcre-8.39.tar.gz\n# 获取httpd (apache)\nwget http://mirrors.hust.edu.cn/apache/httpd/httpd-2.4.29.tar.gz \n# 获取php5.6\nwget -c -O  php5.6.36.tar.gz  http://cn2.php.net/get/php-5.6.36.tar.gz/from/this/mirror\n# 获取boost mysql5.7及以上版本需要,5.6不需要\nwget http://www.sourceforge.net/projects/boost/files/boost/1.59.0/boost_1_59_0.tar.gz\n# 获取mysql5.7\nwget -c https://dev.mysql.com/get/Downloads/MySQL-5.7/mysql-5.7.22.tar.gz\n\n# 1.安装apr\n# 解压apr\ntar zxvf apr-1.6.3.tar.gz\n\n# 安装依赖libtool \nyum install libtool\n\n# 进入配置\ncd apr-1.6.3/\n./buildconf\n\n# 配置\n./configure --prefix=/usr/local/apr-1.6.3\n\n# 编译安装\nmake && make install\n\n# 2.安装apr-iconv \n# 解压\ncd apr-iconv-1.2.2/\ntar zxvf apr-iconv-1.2.2.tar.gz \n\n# 配置\n./configure --prefix=/usr/local/apr-iconv-1.2.2 --with-apr=/usr/local/apr-1.6.3/bin\n\n# 编译安装\nmake && make install\n\n# 3.安装apr-util\n# 解压 apr-util\ntar zxvf apr-util-1.6.1.tar.gz\n\n#  解决报类似#include <expat.h>错误，需yum安装expat: yum install expat-devel \nyum install expat-devel\n\n# 配置\ncd apr-util-1.6.1/\n# --with-apr=apr 安装bin目录\n./configure --prefix=/usr/local/apr-util-1.6.1 --with-apr=/usr/local/apr-1.6.3/bin  --with-apr-iconv=/usr/local/apr-iconv-1.2.2/bin/apriconv\n\n# 编译安装 \n make && make install \n\n# 4.安装pcre\n# 安装依赖 gcc-c++\nyum install gcc-c++\n\n# 解压\ntar zxvf pcre-8.39.tar.gz\ncd pcre-8.39/\n\n# 配置\n./configure --prefix=/usr/local/pcre-8.39\n\n# 编译安装\nmake && make install\n\n# 5.安装apache (httpd)\n# 记录下apr, apr-util, apr-iconv , pcre 的安装路径, 配置apache时需要用到\n\n# 安装并更新locate工具数据库\nyum install locate  && updatedb\n\n# 查找apr, apr-util,apr-iconv,pcre 安装路径\nlocate apr | grep bin\nlocate pcre | grep bin\n\n# 查找结果如下:\n# apr 安装路径 \t/usr/local/apr-1.6.3/bin\n# apr-iconv\t\t /usr/local/apr-iconv-1.2.2/bin/apriconv\n# apr-util 安装路径 \t/usr/local/apr-util-1.6.1/bin\n# pcre 安装路径\t/usr/local/pcre-8.39/bin\n\n# 解压httpd\ntar zxvf httpd-2.4.29.tar.gz\n\n#  配置 (切换到解压目录) 一定要加上 enable-so \ncd httpd-2.4.29/\n./configure --prefix=/usr/local/httpd-2.4.29/  --with-apr=/usr/local/apr-1.6.3/bin  --with-apr-util=/usr/local/apr-util-1.6.1/bin  --with-apr-iconv= /usr/local/apr-iconv-1.2.2/bin/apriconv   --with-pcre=/usr/local/pcre-8.39  --enable-so\n\n# 编译安装\nmake && make install\n\n# 查看安装成功没有\nlocate httpd | grep bin\n\n# 添加到服务\n# 从安装目录bin/下 复制apachectl　到/etc/rc.d/init.d/httpd\ncp /usr/local/httpd-2.4.29/bin/apachectl /etc/rc.d/init.d/httpd\n# 编辑httpd, 加入下面两句 后两个数字表示启动顺序, 不要超100, 下面两句是带# 注释的, chkconfig是能读到的, 这两个必须要加, Description: 这个是描述, 随便写\n\n# chkconfig: 2345 80 81\n# Description: this is httpd server\n\n# 添加到守护进程\nchkconfig --add httpd\n\n# 管理 \nservice httpd start|restart|stop|status\n# 访问\n\n# 新建一个目录 /myconfig/ , 以后将所有配置文件建立软链接到此目录, 统一管理\nmkdir /myconfig\n\n# 为httpd.conf 创建软连接\nln -s /usr/local/httpd-2.4.29/conf/httpd.conf  /myconfig/httpd.conf\n\n\n# 配置域名\n\n\n# 运行下面几个命令测试一下有没有错误\n\n\n# 解决 lynx: command not found\n# 这是因为lynx命令不认识，只因缺少lynx包，安装即可：yum install lynx。\nyum install lynx\n\n# 安装完lynx , 运行service httpd status 有下面的提示, 该话题属于 apache server-status  , 这里不做多的说明, 不影响使用\n\n\n\n# 启动后只要访问出现这个就说明安装apache 成功!\n\n\n\n# 二. 安装php\n# 1.安装php依赖\nyum install gcc gcc-c++ libxml2 libxml2-devel autoconf libjpeg libjpeg-devel libpng libpng-devel freetype freetype-devel  zlib zlib-devel glibc glibc-devel glib2 glib2-devel libevent\n\n# 2.安装php\n# 解压 (切换到压缩包目录下执行)\ntar zxvf php5.6.36.tar.gz\n\n# 配置 配置开启需要开启的扩展比如,pdo, mysql gd 并将php做为apache的模块 --apxs2=指向apache bin下的apxs程序 \ncd php-5.6.36/\n./configure --prefix=/usr/local/php-5.6.36/ --with-apxs2=/usr/local/httpd-2.4.29/bin/apxs  --with-mysql   --with-pdo-mysql  --with-gd\n\n# 更新apache的bin/apxs 文件 将第一行改为perl的位置\n# 查看perl 位置\nwhereis perl \n\n# apxs 文件第一行改为 perl的位置 参数 -w\n# ! /usr/bin/perl -w\n\n\n#编译安装\nmake && make install\n\n# 查看 php 信息\n/usr/local/php-5.6.36/bin/php -m\n# 如下说明安装成功\n\n\n3.php与apache的绑定\n编辑apache主配置文件 httpd.conf\n配置如下:\n1)\nLoadModule php5_module modules/libphp5.so\n\n\n2) 加入以下代码, 告知apache 将php交由php处理\n<FilesMatch \\.php$>\n SetHandler application/x-httpd-php\n</FilesMatch>\n如图:\n\n\n# 在htdoc 站点目录写一个php测试文件 index.php 内容 <?php phpinfo();?>\n\n# 重启服务器访问\nservice httpd restart \n\n\n\n# date 警告处理, 配置php时区\n\n\n从phpinfo 获取到php的配置目录及文件 (/usr/local/php-5.6.36/lib)\n\n\n# 拷贝php配置文件\n从php源码中复制 php.ini-production 到php安装目录的lib目录下改名为php.ini\ncp /root/packages/php-5.6.36/php.ini-production /usr/local/php-5.6.36/lib/php.ini\n\n# 备份php.ini\ncp /usr/local/php-5.6.36/lib/php.ini /usr/local/php-5.6.36/lib/php.ini.bak\n\n# 创建软连接 方便管理\nln -s /usr/local/php-5.6.36/lib/php.ini /myconfig/php.ini\n\n# 我把所有配置文件统一建立软连接在/myconfig/下, 如图\n\n\n# 配置php.ini 时区\n\n\n修改完, 重启服务器 再访问 \nservice httpd restart\n\n\n\n# 三. 安装mysql\n# 安装依赖\n# gcc, gcc-c++, ncurses-devel, cmake(配置的工具mysql配置不用configure,用cmake)\nyum install gcc gcc-c++ cmake ncurses-devel\n\n# 安装boost mysql5.7依赖boost,mysql5.6不依赖\n# 在/usr/local/下创建boost目录\nmkdir /usr/local/boost\n# 进入boost目录\ncd /usr/local/boost/\n# 下载 boost\nwget http://www.sourceforge.net/projects/boost/files/boost/1.59.0/boost_1_59_0.tar.gz\n\n# 解压\ntar zxvf boost_1_59_0.tar.gz\n\n# mysql官网下载mysql源码\nhttps://dev.mysql.com/downloads/mysql/5.7.html#downloads\n\n\n\n\n\n# 鼠标右键复制下载连接地址, 使用wget 下载\nwget -c https://dev.mysql.com/get/Downloads/MySQL-5.7/mysql-5.7.22.tar.gz\n\n# 解压\ntar zxvf mysql-5.7.22.tar.gz\n\n# 配置安装位置与数据库data位置\n# mysql 5.7需要指定 -DWITH_BOOST=/usr/local/boost, mysql5.6及以下不需要\ncd mysql-5.7.22/\ncmake . -DWITH_BOOST=/usr/local/boost   -DCMAKE_INSTALL_PREFIX=/usr/local/mysql-5.7.22 -DMYSQL_DATADIR=/usr/local/mysql-5.7.22/data  \n\n# 编译安装\nmake && make install\n\n# 配置mysql\n# 修改文件权限,要求必须用独立用户管理, 这个用户就叫mysql\n# 添加用户\ngroupadd mysql && useradd -g mysql mysql\n\n# 修改mysql程序权限, 把组改成mysql,用户也改成mysql\n修改前:\n\n\n# 在/usr/local/目录执行 \n# 将mysql目录及文件的用户跟组修改为mysql\nchown -R mysql:mysql mysql-5.7.22/\n\n# 初始化用户信息前先删除/etc/my.cnf 配置文件\nrm /etc/my.cnf\n\n# 初始化用户信息\n# 下面是不建议mysql5.7使用的, mysql5.6可以使用,具体看下面,选择自己的版本\n# /usr/local/mysql-5.7.22/bin/mysql_install_db --user=mysql --datadir=/usr/local/mysql-5.7.22/data\n\n# mysql5.6 使用下面的\n# /scripts/mysql_install_db --user=mysql \n\n# mysql5.7 建议使用的\n/usr/local/mysql-5.7.22/bin/mysqld  --initialize\n\n# 初始化结束后, 会随机生成一个root的密码, 切记保持此密码,后续用到\n如图:\n\n本次生成的密码是: 1%fjXAMjDPb6 \n# 查看data目录下有没有件, 有说明初始化成功了\n\n\n# 初始化完成后, mysql目录下除了data目录保留mysql用户,把其它目录通通改为root用户\nchown -R root mysql-5.7.22/ && chown -R mysql mysql-5.7.22/data/\n# 查看\n\n\n# 如果是mysql5.6 复制一个配置文件过来 参考\n\n\n# 如果是mysqsl5.7 手动创建配置文件 touch /etc/my.cnf 写入以下内容,参考:\n[client]\nport=3306\nsocket=/tmp/mysql.sock\n\n[mysqld]\nport=3306\nsocket=/tmp/mysql.sock\nkey_buffer_size=16M\nmax_allowed_packet=8M\n\n[mysqldump]\nquick\n\n# 运行mysqld_safe服务\n/usr/local/mysql-5.7.22/bin/mysqld_safe --user=mysql &\n\n# 查看进程\nps -e | grep mysqld\n\n\n# 连接\n/usr/local/mysql-5.7.22/bin/mysql -uroot -p \n复制密码进去\n\n\n按确定\n\n\n# 修改密码\n# mysql5.6 如下:\n# update mysql.user set password=password('你的密码') where user='root';\n\n# mysql5.7 如下:\nalter user 'root'@'localhost' identified by '你的密码';\n\n# 刷新权限 5.7不需要\n# flush privileges\n# quit 退出, 重新用新密码登录\n\n# 将其加入守护进程\n# 复制/mysqld.server 到/etc/rc.d/init.d/\ncp  /usr/local/mysql-5.7.22/support-files/mysql.server /etc/rc.d/init.d/mysqld\n# 修改权限\nchmod  a+rx /etc/rc.d/init.d/mysqld \n# 添加到守护进程管理\nchkconfig --add mysqld\n# 查看\nchkconfig --list mysqld\n# 测试用守护进程管理方式,停用跟启用\nservice mysqld stop\nservice mysqld start\n\n# 四. 安装phpmyadmin\n# 下载\nwget https://files.phpmyadmin.net/phpMyAdmin/4.8.1/phpMyAdmin-4.8.1-all-languages.zip\n# 复制到站点根目录\ncp phpMyAdmin-4.8.1-all-languages.zip /usr/local/httpd-2.4.29/htdocs/\n# 进入站点根目录, 解压\ncd /usr/local/httpd-2.4.29/htdocs/\nunzip phpMyAdmin-4.8.1-all-languages.zip\n# 改名为phpmyadmin\nmv phpMyAdmin-4.8.1-all-languages phpmyadmin\n\n# 访问站点 \nhttp://58.87.95.128/phpmyadmin/index.php\n\n如图:\n\n\n输入密码登录\n\n\n#解决一个问题 , 设置不让访问目录\n\n\n# 编辑httpd.conf\nOptions Indexes FollowSymLinks\n修改为：\nOptions FollowSymLinks\n\n\n# 保存后, 重启httpd服务器\nservice httpd restart\n# 访问\n\n\n# 再配置httpd.conf, 让自动访问index.php\n\n<IfModule dir_module>\n     DirectoryIndex index.html index.php\n</IfModule>\n\n\n# 再次访问\n\n\n/END\n\n\n","layout":null},"children":[]},{"data":{"id":"bmkc5kmbggg0","created":1530339717104,"text":"lnmp"},"children":[{"data":{"id":"bmkc5mzeo1k0","created":1530339722249,"text":"nginx"},"children":[]},{"data":{"id":"bmkc5p5gts80","created":1530339726969,"text":"php-fpm"},"children":[{"data":{"id":"bmkc5ypzraw0","created":1530339747801,"text":"重启: kill -USR2 php-fpm的主进程"},"children":[]}]},{"data":{"id":"bmkc5vhaqug0","created":1530339740745,"text":"mysql"},"children":[]}]},{"data":{"id":"bm47yy4gbso0","created":1528702954203,"text":"软件安装方式","expandState":"expand","layout":null},"children":[{"data":{"id":"bm47z3wyc200","created":1528702966811,"text":"源码编译安装","priority":1,"layout":null},"children":[]},{"data":{"id":"bm47z5mvrdk0","created":1528702970555,"text":"包管理器安装 yum ,apt-get","priority":2,"note":"包管理器安装, 将软件源放在公共的位置, 包管理器进行下载和安装\n\n红帽系列 : centos , redhat, 用yum\nubuntu 用apt-get\n","layout":null,"expandState":"expand"},"children":[{"data":{"id":"bm484n84rbc0","created":1528703400666,"text":"yum安装: yum install 软件名 -y","layout":null},"children":[]},{"data":{"id":"bm4857q94080","created":1528703445297,"text":"yum配置","layout":null},"children":[{"data":{"id":"bm4qztal7qg0","created":1528756623143,"text":"使用自定义yum源","note":"例: 使用cdrom , 需要把dvd挂载到/media/CentOS\n语法: yum --disablerepo=\\* --enablerepo=c6-media\n\n示例:\nyum --disablerepo=\\* --enablerepo=c6-media install gcc\n\n","layout":null},"children":[]}]},{"data":{"id":"bmhteb35fi80","created":1530083680630,"text":"yum命令"},"children":[{"data":{"id":"bmhtehgx1540","created":1530083694523,"text":"yum clean all"},"children":[]},{"data":{"id":"bmhtelb738w0","created":1530083702884,"text":"yum makecache"},"children":[]},{"data":{"id":"bmhtf3n00e00","created":1530083742780,"text":"yum update"},"children":[]}]},{"data":{"id":"bm4r62d20uw0","created":1528757113068,"text":"相关文件","expandState":"expand","layout":null},"children":[{"data":{"id":"bm4r2ccjvns0","created":1528756821349,"text":"  /etc/yum.repos.d/","note":"ls /etc/yum.repos.d\nCentOS-Base.repo  CentOS-Epel.repo","expandState":"expand","layout":null},"children":[{"data":{"id":"bm4r7dmdcyo0","created":1528757215940,"text":"CentOS-Base.repo","note":"可编辑","layout":null},"children":[]},{"data":{"id":"bm4r8nrgdpc0","created":1528757316379,"text":"  CentOS-Epel.repo","note":"可编辑","layout":null},"children":[]},{"data":{"id":"bm4r9t8sukw0","created":1528757406676,"text":"CentOS-Media.repo (挂载cdrom该文件才有效)","note":"内容参考:\n[c6-media]\n#yum源名\nname=CentOS-$releasever - Media\n# 资源路径,可写多个每个一行\nbaseurl=file:///media/CentOS/\n         file:///media/cdrom/\n        file:///media/cdrecorder/\ngpgcheck=1\nenabled=0\ngpgkey=file:///etc/pki/rpm-gpg/RPM-GPG-KEY-CentOS-6\n\n\nls /media/CentOS/\nCentOS_BuildTag  RPM-GPG-KEY-CentOS-6           RPM-GPG-KEY-CentOS-Testing-6\nEULA             RPM-GPG-KEY-CentOS-Debug-6     TRANS.TBL\nPackages         RPM-GPG-KEY-CentOS-Security-6\n","layout":null},"children":[]}]},{"data":{"id":"bm4r65yl7fk0","created":1528757120900,"text":" /etc/yum.conf","layout":null},"children":[]}]}]},{"data":{"id":"bm47z7bm3mo0","created":1528702974227,"text":"独立软件包 rpm","priority":3,"note":"独立软件包, 打包好的软件程序, 红帽系列rpm\n\nyum 与rpm 关系,yum 基于rpm , yum 高级之处在于, yum解决了依赖, 可一次安装多个软件(安装软件时,会自动安装依赖的软件)\n\n\n\n","layout":null},"children":[{"data":{"id":"bm484ominn40","created":1528703403713,"text":"rpm安装 : rpm -ivh 软件包","layout":null},"children":[]}]}]},{"data":{"id":"bmjcn7i4xew0","created":1530239539151,"text":"查看命令"},"children":[{"data":{"id":"bmjcnepvjps0","created":1530239554857,"text":"查看端口占用"},"children":[{"data":{"id":"bmjcnjna16g0","created":1530239565584,"text":"lsof -i:80"},"children":[]},{"data":{"id":"bmjcnwr7lts0","created":1530239594120,"text":"netstat -tunlp|grep 端口号"},"children":[]},{"data":{"id":"bmkbj34ay540","created":1530337954998,"text":"netstat -anp | grep :80"},"children":[]}]}]}]},{"data":{"id":"bmhqd4qfpcw0","created":1530075125107,"text":"相关文件"},"children":[{"data":{"id":"bmhqd827a3k0","created":1530075132348,"text":"centos"},"children":[{"data":{"id":"bmhqdaweytk0","created":1530075138529,"text":" /etc/redhat-release (linux版本信息)","note":"查看centos版本信息\ncat /etc/redhat-release\n"},"children":[]}]}]}]},"template":"default","theme":"fresh-blue","version":"1.4.43"}