{"root":{"data":{"id":"64a570e57f5b","created":1528779953,"text":"git","note":"版本控制器\n概念:管理和控制代码成长的各个阶段,常见的版本控制器有 git,svn,cvs,bitkeeper\n\ngit是分布式\ngit与svn区别, svn是集中式, git是分布式,使用上,git断网可以commit ,但是svn断网不能commit\n\n"},"children":[{"data":{"id":"bm4zj9dxt7k0","created":1528780715972,"text":"安装","layout":null,"layout_right_offset":{"x":-55,"y":-87}},"children":[{"data":{"id":"bm4zjbqleu80","created":1528780721091,"text":"windows","note":"安装时选上\ngit bash bere ,\nuse git bash\n\n换行符处理方式:\ncheckout as-is, commit unix-style\n\n安装好后有:\ncmd, bash, gui\n\n\n\n","layout":null},"children":[]},{"data":{"id":"bm4zjdc0qz40","created":1528780724563,"text":"linux","note":"# 安装依赖\nyum install gcc gcc-c++ curl-devel expat-devel gettext-devel openssl-devel perl-devel zlib-devel\n\n\n# 获取源码\nwget -c https://mirrors.edge.kernel.org/pub/software/scm/git/git-2.9.5.tar.gz\n\n# 解压\ntar zxvf git-2.9.5.tar.gz \ncd git-2.9.5/\n\n\n# 生成配置\nmake configure\n\n# 配置\n./configure --prefix=/usr/local/git-2.9.5\n\n# 编译安装\nmake && make install\n\n# 查看版 \ngit version\n\n\n\n\n\n\n","layout":null},"children":[{"data":{"id":"bm58vctd2ow0","created":1528807053794,"text":"yum install git (red hat)","layout":null},"children":[]},{"data":{"id":"bm58vedoolk0","created":1528807057200,"text":"get-apt install git (ubuntu)","layout":null},"children":[]}]}]},{"data":{"id":"bm4zs8bzr340","created":1528781418955,"text":"配置","layout":null},"children":[{"data":{"id":"bm8i9lxw6sg0","created":1529138240618,"text":"查看配置 : git config --list","layout":null},"children":[]},{"data":{"id":"bm8i9a0c45c0","created":1529138214643,"text":"按级别","expandState":"expand","layout":null},"children":[{"data":{"id":"bm8i4qglv3c0","created":1529137858635,"text":"系统级配置 加--system","note":"系统级配置, 配置的git的软件配置","layout":null},"children":[]},{"data":{"id":"bm8i4uz7e8w0","created":1529137868466,"text":"全局配置 加--global","expandState":"expand","note":"全局配置, 配置的用户级别的\n","layout":null},"children":[{"data":{"id":"bm4zsai5mcg0","created":1528781423682,"text":"配置昵称跟邮箱","layout":null,"note":"参数值可以不写引号\n"},"children":[{"data":{"id":"bm4zsqjtdc00","created":1528781458610,"text":"git config --global user.name   \"dongzhihong\"","layout":null},"children":[]},{"data":{"id":"bm4zt326m680","created":1528781485842,"text":"git config --global user.email   \"244013508@qq.com\"","layout":null},"children":[]}]}]},{"data":{"id":"bm8i4xhtv340","created":1529137873946,"text":"项目级配置","note":"项目级别,只针对于某个项目\n\n","layout":null},"children":[{"data":{"id":"bm8i5nwazgw0","created":1529137931418,"text":"配置昵称跟邮箱","layout":null},"children":[{"data":{"id":"bm8i5t46nuw0","created":1529137942778,"text":"git config user.name \"dongzhihong\"","layout":null},"children":[]},{"data":{"id":"bm8i5zwpcmo0","created":1529137957563,"text":"git config user.email \"244013508@qq.com\"","layout":null},"children":[]}]}]}]},{"data":{"id":"bm5tdgmq87s0","created":1528864894853,"text":"linux配置高亮显示当前分支","note":"linux上配置git高亮显示当前分支  \n# 下载git源码文件  \ngit clone https://github.com/git/git.git  \n＃解压  \ntar zxvf git  \n# 从解压文件里面拷贝两个文件 git-completion.bash  与  git-prompt.sh  \n# 查找这两个文件的位置  \ncd git  \nfind  -iname git-completion.bash ;find -iname  git-prompt.sh  \n# 查找结果如下:  \n./contrib/completion/git-completion.bash  \n./contrib/completion/git-prompt.sh  \n# 复制两个文件到家目录下  \ncp ./contrib/completion/git-completion.bash   ~/  \ncp ./contrib/completion/git-prompt.sh   ~/  \n  \n# 将以下内容加入到 ~/.bashrc  \n# #################git高亮#######################  \nsource ~/git-completion.bash  \n# 显示分支官方实现  \nGIT_PS1_SHOWDIRTYSTATE=true  \nGIT_PS1_SHOWCOLORHINTS=true             \nif [ -f ~/git-completion.bash ]; then  \n  source ~/git-prompt.sh  \n  PROMPT_COMMAND='__git_ps1 \"[\\t][\\u@\\h:\\w]\" \"\\\\\\$ \"'  \nfi  \n# #################git高亮 END#######################  \nvi ~/.bashrc 加入代码  \n\n刷新:  \nsource /root/.bashrc  \n\n\n\n\n","layout":null},"children":[]},{"data":{"id":"bm8ies7j35k0","created":1529138646081,"text":"将git添加到环境变量","note":"交git/bin添加到环境变量即可!\nvi /etc/profile\n加入\nexport PATH=\"$PATH:/etc/git/bin\"\n保持,退出\n\nsource /etc/profile\n\n\n","layout":null},"children":[]},{"data":{"id":"bma3f924ulk0","created":1529299486025,"text":"remote 远程仓库地址配置","expandState":"expand","layout":null},"children":[{"data":{"id":"bma3fg6o2cg0","created":1529299501536,"text":"添加 git remote add origin url","note":"// 例:\ngit remote add origin https://github.com/var100/test_1\n\n\n","layout":null},"children":[]},{"data":{"id":"bma3n440lgg0","created":1529300102168,"text":"移除 git remote remove origin","layout":null},"children":[]},{"data":{"id":"bma3gegfb5k0","created":1529299576137,"text":"查看 : git remote [-v]","layout":null},"children":[]},{"data":{"id":"bma3s9z31w80","created":1529300506751,"text":"remove帮助 git remove -h","layout":null},"children":[]}]},{"data":{"id":"bmfd603gqnk0","created":1529834772119,"text":"配置相关文件"},"children":[{"data":{"id":"bmfd62dz36w0","created":1529834777108,"text":"项目级别配置文件: .git/config "},"children":[{"data":{"id":"bmgxk3it49s0","created":1529993858830,"text":".git/info/exclude (该文件是配置要忽略的文件)"},"children":[]},{"data":{"id":"bmgxkq3g7fc0","created":1529993907968,"text":".gitignore (忽略文件配置)","note":"如果是当前目录subdir, 不要写./subdir, 而是写subdir\n\n.gitignore 自身也会被追踪\n,如果不想被追踪, 可以设置\n\n\n\n"},"children":[]}]},{"data":{"id":"bmfdaw2id7k0","created":1529835155175,"text":"用户级别: /Home/user/.gitconfig "},"children":[{"data":{"id":"bmgxddpcr140","created":1529993332445,"text":"配置加载一个配置文件","note":"~/.gitconfig文件:\n[core]\nexcludesfiles = 配置文件路径\n\n\n"},"children":[]}]}]},{"data":{"id":"bmfd6clyd480","created":1529834799359,"text":"配置项"},"children":[{"data":{"id":"bmfd6erxqmo0","created":1529834804074,"text":"签名","note":"签名用来, 标示提交人, 有用户名跟邮箱, 这两个数据跟远程登录账号邮箱没有关系, 仅仅是个标示, 如果没有签名,git不给提交\n\n"},"children":[{"data":{"id":"bmfd7k15bc00","created":1529834893879,"text":"user.name"},"children":[]},{"data":{"id":"bmfd7nz43x40","created":1529834902463,"text":"user.email"},"children":[]}]}]},{"data":{"id":"bmgw2o07cc00","created":1529989671753,"text":"RSA SSH私钥"},"children":[{"data":{"id":"bmgw2ti9riw0","created":1529989683729,"text":"配置多个私钥","note":"ssh配置多个域多个账号\n在一台电脑上配置git 多个账号私钥\n需求: 有多个git账号, 要在本地使用ssh登录, 默认只使用~/.ssh/id_rsa 私钥, 也就是只能一个账号能使用, 而且, 还不是只有github, 还有gitee, gitlab 等, 那么会有很私钥\n\n解决方式下面提供两种\n第一种:通过ssh-add 把私钥添加到ssh-agent session中, 这种仅仅是临时的, 会话级别, 每次使用都要添加一下, 比较麻烦,但是呢, 可以把执行的命令, 写成自动动化的, 让自动执行.\n\n第二种: 通过配置~/.ssh/config 配置文件来达到效果\n\n# 具体:\n# 首先生成公钥跟私钥\nssh-keygen -t rsa -f ~/.ssh/github_itkuke -C \"itkuke@163.com\"\nssh-keygen -t rsa -f ~/.ssh/id_rsa -C \"244013508@qq.com\"\n\n将公钥内容复制, 添加到对应(github, gitee, gitlab) 等远程服务器SSH keys 中, 然后进行下面的操作\n\n第一种参考:\n# 将github_itkuke私钥添加到ssh-agent 的session中\n# 会话级别, 只在当前客户端管用, 重打开一个不管用, 重启后也失效\neval `ssh-agent`  \nssh-add ~/.ssh/github_itkuke\n\n# 查看\nssh-add -l\n\n第二种: 在 ~/.ssh 目录下 新建 config文件,及设置好权限, 写入配置\n这种好处是永久的, 所有基于ssh的连接都会走这个流程,会根据请求域跟用户名,携带对应的私钥去验证.\n参考内容:\n\nHost gitlab\n  HostName 58.87.95.128\n  PreferredAuthentications publickey\n  IdentityFile ~/.ssh/gitlab_dongzhihong_rsa\nHost github.com\n  User git\n  HostName github.com\n  PreferredAuthentications publickey\n  IdentityFile ~/.ssh/id_rsa\n\nHost github-phpzx\nUser git\nHostName github.com\nPreferredAuthentications publickey\nIdentityFile ~/.ssh/id_rsa\n  \nHost github-itkuke\n  User git\n  HostName github.com\n  PreferredAuthentications publickey\n  IdentityFile ~/.ssh/github_itkuke\n\n\n\n/END \n\n\n"},"children":[{"data":{"id":"bmgw3axnuts0","created":1529989721665,"text":"临时: eval `ssh-agent`; ssh-add 私钥路径"},"children":[]},{"data":{"id":"bmgw3bv8ins0","created":1529989723695,"text":"永久: ~/.ssh/config配置文件"},"children":[]}]},{"data":{"id":"bmixv5rq2y00","created":1530197845642,"text":"注意: 别复制rsa, 会有问题, 用输出重定向方式追加","note":"把rsa内容复制过来, 可能会出现问题,所以不要使用这种方式,建议把生成的公钥传到服务器, 用输出重定向方式追加到\n/home/git/.ssh/authorized_keys中\n\n例:\ncat github_phpzx_rsa.pub >> /home/git/.ssh/authorized_keys\n\n复制之所以会出错,是因为,vi打开文件,默认是命令模式,而复制的key 里,第一个字符是's' 所以复制过来开头的'ssh'变成了'sh', 所以出错了!,解决,先进入插入模式,再粘贴!\n\n"},"children":[]},{"data":{"id":"bmixy9wvz280","created":1530198089754,"text":"问题"},"children":[{"data":{"id":"bmixz04226g0","created":1530198146784,"text":"解决linux中使用git，ssh每次都要输入密码","note":"#解决linux中使用git，ssh每次都要输入密码\n\n原因可能是以下几种:\n# 1. 公钥复制过去,前面的'ssh-',少了一个's', 成了'sh-'\n\n# 2./etc/passwd 中git用户配置不对,应该如下\n git:x:1003:1004::/home/git:/usr/local/git-2.9.5/bin/git-shell\n\n# 3.权限不对,authorized_keys 权限应该为600, 且为git用户\n\n# 4.低版本ssh生成的在高版本可能用不了,所以建议用高版本的ssh生成\n\n\n第一种情况:\n\n原来是在生产公钥的时候，\n\n执行命令 ssh-keygen -t rsa -C xxxx 后，\n\n会有一个输入密码(Enter passphrase (empty for no passphrase)) 与\n\n再次确认密码(Enter same passphrase again)的动作，问题就出在这儿\n\n因为这个时候如果你输入了密码 ,那你就悲剧了，以后每次git操作都必须输入密码，但是如果这个时候你直接回车，那你就一劳勇逸了\n\n深坑啊深坑啊，一般来说提示输入密码，第一直觉当然是输入啊，真是深坑。希望大家能扩散，减少这种坑的出现，少浪费生命\n\n\n第二种情况:\n打开ssh配置文件：\nvim /etc/ssh/ssh_config\n\n要修改的内容如下：\nHost *\n        RSAAuthentication yes\n        PubkeyAuthentication yes\n        GSSAPIAuthentication yes\n        \n其中，RSAAuthentication yes 与 PubkeyAuthentication yes 是本文件的新增内容。\n\n其它:\n1、远程服务器建立好了仓库，\n2.本地clone需要输入密码 输入密码 pull push 都ok了\n3.本地 keygen 放到了/c/Users/hh/.ssh里面，\n4.WINSCP 拷贝id_rsa.pub到 服务器\n\n5.服务器在su git \n在/home/git下建立 .ssh\n6.然后 cat id_rsa.pub > authorized_keys \n7.chmod 700 .ssh\nchmod 600 .ssh/authorized_keys\n\n服务器 ssh 配置文件\nRSAAuthentication yes\nPubkeyAuthentication yes\nAuthorizedKeysFile .ssh/authorized_keys\n为以上 重启sshd服务\n\nAuthorizedKeysFile .ssh/authorized_keys 这里 改为 /home/git/.ssh/authorized_keys 重启服务也不行，\n\n解决为文件所有人修改\n\n# 测了下面的配置, 测了没影响!\nRSAAuthentication yes\nPubkeyAuthentication yes\nAuthorizedKeysFile\n\n\n\n\n\n\n\n"},"children":[]}]},{"data":{"id":"bmj8u86wmi00","created":1530228804759,"text":"相关文件","expandState":"expand"},"children":[{"data":{"id":"bmj8ua6lj3k0","created":1530228809093,"text":"~/.ssh/ (/root/.ssh) (客户端私钥)"},"children":[]},{"data":{"id":"bmj8uka8pz40","created":1530228831082,"text":"/home/git/.ssh (服务器端公钥)"},"children":[]},{"data":{"id":"bmj8y2n6lo00","created":1530229106139,"text":"/home/git/.ssh/authorized_keys","note":"该文件属性600:\n-rw------- 1 git git\n\n权限高了, 认为是恶意篡改了, 该文件会失效!\n"},"children":[]}]},{"data":{"id":"bmj95q4fi0w0","created":1530229705797,"text":"测试rsa : ssh -T mygit","note":"说明:\nmygit 是~/.ssh/config中配置的\nHost, 不需要登录就说明成功\n"},"children":[]},{"data":{"id":"bmj9xogbabs0","created":1530231896358,"text":"把公钥自动合并到远程authorized_keys上,并修改相关文件权限为合适","note":"# 第一步,启用bash\nvi /etc/passwd\n修改git用户为允许bash登录\n git:x:1003:1004::/home/git:/bin/bash\n \n# 第二步,客户端执行 \nssh-copy-id -f -i ~/.ssh/github_phpzx_rsa.pub git@58.87.95.128\n\nssh-copy-id 表示把ssh公钥合并到远程\n-i 表示公钥文件\n-f 表示强制\n\n\n执完完, 禁止git bash登录设置如下:\n git:x:1003:1004::/home/git:/usr/local/git-2.9.5/bin/git-shell\n\n\n"},"children":[]},{"data":{"id":"bmja584g5nk0","created":1530232487726,"text":"一个SSH 公钥登录失败的问题及解决经验"},"children":[]},{"data":{"id":"bmjb8q4ouoo0","created":1530235583125,"text":"调试debug:  ssh -v git@xxx.xxx.xxx"},"children":[]},{"data":{"id":"bmjbw8opdls0","created":1530237425893,"text":"登录信息 : /var/log/secure"},"children":[]}]}]},{"data":{"id":"bm4zltzr3fs0","created":1528780917555,"text":"快速体验 ","note":"mkdir testgit\ncd testgit\n\n# 初始化\ngit init\n\ntouch a.txt\ntouch b.txt\n\n# 添加到暂存区\ngit add a.txt b.txt\n\n# 提交\ngit commit -m 'first commit'\n\n\n# 查看状态\ngit status\n\n","layout":null},"children":[]},{"data":{"id":"bm4zxua4tfk0","created":1528781858553,"text":"查看指令","layout":null},"children":[{"data":{"id":"bm4zxxlvt1k0","created":1528781865795,"text":"查看日志: git log","layout":null},"children":[{"data":{"id":"bm4zy9yfga80","created":1528781892674,"text":"git log -p (详细分页)","note":"每次改了什么\n","layout":null},"children":[{"data":{"id":"bmfxadmyyi00","created":1529891537252,"text":"下一页: 空格"},"children":[]},{"data":{"id":"bmfxardn77s0","created":1529891567163,"text":"上一页: b"},"children":[]}]},{"data":{"id":"bm63bq21ydc0","created":1528892969742,"text":"git log --pretty=oneline (一行一条简洁)","layout":null,"note":"a997dabf365756f8360f0c9a71eff55c27429ada 修改bug分支IndexController\nc57de3340c9861b9008a20034d499347f414c34a xx\n6f814b8ad0a5dc679bae7bd1045b87a2b54e4fe2 bug处理\n907eb7b0918cf99b71821bfd7da71f42bb8a89fd 修改IndexController\n047e6fe3267218b3673f4f04abd3b9885818e1df 测试数据\n455e65615a8d73483a5ff2bd99aed7d8f9ab6dd0 测试配置文件\n"},"children":[]},{"data":{"id":"bmfxc147alc0","created":1529891666724,"text":"git log --oneline (更简洁)","note":"6f814b8 bug处理\n907eb7b 修改IndexController\n047e6fe 测试数据\n455e656 测试配置文件\n3a4ba9d 增加a\na3bcf5a 主分支删除dev.txt\n6cb08ba dev branch\n4d32aed 增加框架初始化\n"},"children":[]},{"data":{"id":"bm8hkvq4f800","created":1529136302811,"text":"git reflog :查看回退记录","layout":null,"note":"9a73bea HEAD@{0}: commit: 测试\n1d625f6 HEAD@{1}: commit: 查找子域名\ncd0f3f6 HEAD@{2}: commit (merge): 解决冲突\ne355228 HEAD@{3}: checkout: moving from bug to master\n752f1fa HEAD@{4}: checkout: moving from master to bug\n\n所有回退记录都会存在, 花括号里的数字可以用来做回退表示回退几次\n\ngit reset --hard HEAD~num\n\n"},"children":[]},{"data":{"id":"bm8hqrstpf40","created":1529136764452,"text":"过滤查看","layout":null},"children":[{"data":{"id":"bm8hqvkf6cg0","created":1529136772651,"text":"时间点之后: git log --after '2018-01-01 00:00:00'","layout":null},"children":[]},{"data":{"id":"bm8hzhyx3og0","created":1529137448330,"text":"时间点之前: git log --before '2018-01-01 00:00:00'","layout":null},"children":[]},{"data":{"id":"bm8hzx65j7s0","created":1529137481419,"text":"时间区间: git log --after xxx --before xxx","layout":null},"children":[]},{"data":{"id":"bm8i3wvakww0","created":1529137794219,"text":"根据作者: git log --author 'dongzhihong'","layout":null},"children":[]}]}]},{"data":{"id":"bm58ylsg5m80","created":1528807308423,"text":"git version (查看版本号)","layout":null},"children":[]},{"data":{"id":"bm58yv3gil40","created":1528807328679,"text":"git status (查询状态)","note":"// 未监视\nUntracked files\n\n// 在暂存区,未提交的\nChanges to be committed\n\n// 没有需要提交的\nnothing to commit, working tree clean\n\n// 不在暂存区, 需要add\nChanges not staged for commit:\n\n\n","layout":null},"children":[{"data":{"id":"bm8kf64tgxs0","created":1529144318612,"text":"追踪状态","note":"未修改\n已修改,未暂存\n已暂存,未提交\n已提交\n","layout":null},"children":[]}]},{"data":{"id":"bmfyfwpna3s0","created":1529894791704,"text":"git diff 文件差异对比","expandState":"expand"},"children":[{"data":{"id":"bm5wr3i9tao0","created":1528874426714,"text":"git diff 文件 (查看差异与暂存区对比)","note":"git diff 文件\n说明:工作区的文件与暂存区对比\n\ndiff --git a/c b/c\nindex 6e52385..bb677d8 100644\n--- a/c\n+++ b/c\n@@ -1,2 +1,2 @@\n hi haha\n-hjaha\n+fuck\n\n说明: \n---表示修改前\n+++表示修改后\n\n-表示删除的一行代码\n+表示增加的一行代码\n\n-1,2 表示修改前是1-2行\n+1,2 表示修改后是1-2行\n\n# 验证是与暂存区对比,而不是与本地版本库对比\n1)新建test.txt文件写入aaa\n添到暂存区, 再提交到版本库\n\n2)编辑test.txt行追加bbb\n添加到暂存区,不提到版本库\n\n3)编辑test.txt行追加ccc\n不添加到暂存区\n\n执行 git diff test.txt\n执行结果差异为ccc, 说明是与暂存区对比的,如果是与版本库对比的话, 那么差异应该是bbb ccc\n\n\n\n\n\n\n\n\n\n\n\nlinux也有一个diff 指令用来比较两个文件的差异\n\n\n\n","layout":null},"children":[]},{"data":{"id":"bmfyg5b8wuw0","created":1529894810423,"text":"git diff HEAD 文件 (与本地库对比)"},"children":[]},{"data":{"id":"bmfyks6c6fs0","created":1529895173649,"text":"git diff (不带文件名表示与多个文件对比,显示有差异的文件)"},"children":[]}]},{"data":{"id":"bm5tr810o3k0","created":1528865973225,"text":"git symbolic-ref --short -q HEAD (查看当前哪个分支)","layout":null},"children":[]},{"data":{"id":"bmfxgyb5pzs0","created":1529892052435,"text":"查看文档  : git help 命令","note":"git help 命令\n会在浏览器打开内置网页文档\n\n示例:\ngit help reset\n\n"},"children":[]}]},{"data":{"id":"bm5tgsrvmao0","created":1528865156379,"text":"基本概念","expandState":"expand","layout":null},"children":[{"data":{"id":"bmaei04k7480","created":1529330733882,"text":"版本库","expandState":"expand","layout":null},"children":[{"data":{"id":"bmaejb3nejk0","created":1529330836136,"text":"分类","expandState":"expand","layout":null},"children":[{"data":{"id":"bmaei4usrj40","created":1529330744176,"text":"集中式 svn","expandState":"expand","note":"服务器为主\n集中式,如果服务器出故障,所有开发者客户端不能正常使用\n","layout":null},"children":[]},{"data":{"id":"bmaei6c4ou00","created":1529330747400,"text":"分布式 git","note":"去中心化\n分布式版本控制, 本地提交,不联网也可以,只有pull,fetch,push 时才需要联网,在本地就有版本库,如果服务器端版本库丢失, 可本地克隆一个到远程\n","layout":null},"children":[]}]},{"data":{"id":"bm8hnhk5gf40","created":1529136507067,"text":"git与svn区别","note":"\nsvn是集中式,服务器为主\n如果服务器出问题, 所有客户端不能正常用\n\ngit是分布式, 去中心化的\n版本提交在本地,不用联网,只有pull跟push时才需要联网,一旦服务器版本库丢失,从本地克隆一个到远程\n\n明显的差异:git在断网后,可以commit提交, svn在断网后, 不能提交\n\n\n","layout":null},"children":[]},{"data":{"id":"bm8hn948nyw0","created":1529136488691,"text":"git原理","note":"git思想:存储的不是差异, 是快照,更新的版本的指针\n每一个版本有自己快照, HEAD是指针\n\n\n\n\n","layout":null},"children":[{"data":{"id":"bmfyydbngiw0","created":1529896238417,"text":"hash","note":"hash哈希是一系列的算法, 明文->加密->密文\n常见的hash 算法有md5,SHA1,CRC32\n\n\n特点:明文不管有多少内容,加密后得到的长度一致, 且同一明文,加密后得到的密文一致,内容稍微有改动, 加密后的密文就会发生很大的差异\n\n这个特性, 可用于校验文件\n例如:文件秒传, 文件下载, 是否完整没有丢失\n\n\n"},"children":[]}]}]},{"data":{"id":"bmaeroxqxu00","created":1529331493167,"text":"状态","expandState":"expand","layout":null},"children":[{"data":{"id":"bm5th4sj2js0","created":1528865182539,"text":"未跟踪 tracked","note":"git没有管理该文件,新建的文件就是未跟踪\n\n未跟踪的文件, 修改后用git diff查看不出来区别\n\n","layout":null},"children":[]},{"data":{"id":"bm5th8isojs0","created":1528865190658,"text":"已跟踪","note":"git已经管理该文件, 一个文件只要add 添加一次,就属于已跟踪, 在commit时需要再次add 下\n\n\n只要已跟踪的文件,修改了git diff 可以查看到变化\n\n\n","layout":null},"children":[]},{"data":{"id":"bm5thf1s1kw0","created":1528865204867,"text":"暂存区 staged","layout_left_offset":{"x":0,"y":-5},"note":"git add 将文件当前快照 添加到暂存区\n \n ","layout":null},"children":[]}]},{"data":{"id":"bm9cutpdxcw0","created":1529224536461,"text":"分支","note":"分支:例出现了bug, 分支解决, 解决完再合并到主分支\n\n分支的好处:多条线路各自独立, 并行推进项目进度,提高开发效率\n\n\n","layout":null},"children":[{"data":{"id":"bm9cvqizj8g0","created":1529224607908,"text":"查看当前分支: git branch [-v]","layout":null},"children":[]},{"data":{"id":"bm9cviczgo80","created":1529224590131,"text":"创建分支","layout":null},"children":[{"data":{"id":"bmf2one539k0","created":1529805201177,"text":"git branch 分支"},"children":[]},{"data":{"id":"bmf2pl6fh0o0","created":1529805274721,"text":"git checkout -b 分支","note":"创建并选择分支\n"},"children":[]}]},{"data":{"id":"bmf7t4xklxk0","created":1529819658363,"text":"删除分支"},"children":[{"data":{"id":"bmf7yo37wo00","created":1529820091884,"text":"删除本地分支","expandState":"expand"},"children":[{"data":{"id":"bmf7t8ivycw0","created":1529819666182,"text":"git branch -D/-d 分支名 (-D强制删除)","note":"git branch -D dev1\n"},"children":[]},{"data":{"id":"bmf7tevr6lc0","created":1529819680021,"text":"git checkout -d 分支名"},"children":[]}]},{"data":{"id":"bmf7z5dknzk0","created":1529820129516,"text":"删除远程分支: git push origin :分支名"},"children":[]}]},{"data":{"id":"bmf6t7gwkmg0","created":1529816842776,"text":"切换分支: git checkout 分支"},"children":[]},{"data":{"id":"bm9cvtddloo0","created":1529224614099,"text":"克隆分支: git clone [--bare] --branch 分支名 url 目录别名","layout":null,"note":"git clone --branch bug git@58.87.95.128:/srv/shopping.git shopping_bug"},"children":[]},{"data":{"id":"bm9cvlol0u80","created":1529224597363,"text":"合并分支 git merge 分支名","layout":null,"note":"合并分支:\n例如在dev分支开发完成一个功能后,将其本地合并到master主分支上, 再推送到远程服务器上, 远程服务器master分支同步\n# 开发者电脑上执行\n# 切换要合并的分支上\ngit checkout master\n# 合并dev分支\ngit merge dev\n# 推送到远程\ngit push origin\n\n# 远程服务器操作\ngit pull origin\n\n\n# 合并分支冲突解决流程:\n# 合并分支\ngit merge bug\n# 解决冲突\n# vi 冲突文件 编辑 保存\n# 添加到暂存区 ,注不要用add 文件名\ngit add .\n# 提交\ngit commit -m '解决冲突'\n# 推送到远程\ngit push origin\n\n# 远程服务器进行同步\ngit pull \n\n\n\n\n\n\n\n\n\n\n\n\n\n\n"},"children":[]},{"data":{"id":"bmjggbwk0s80","created":1530250284621,"text":"合并某个分支上的单个文件到当前分支","note":"需求:\n当前分支master,想把dev分支上的Application/Home/Controller/IndexController.class.php 文件跟当前master分支下同名文件合并, 具体操作如下:\n\ngit checkout --patch  dev Application/Home/Controller/IndexController.class.php\n\n说明:\ngit checkout --patch 分支名 文件名\n\n\n"},"children":[]},{"data":{"id":"bmf2m5l4okg0","created":1529805005689,"text":"常见分支"},"children":[{"data":{"id":"bmf2mhnmkio0","created":1529805031961,"text":"release 发布分支","note":"release分支用于分布版本,用于产生环境\n\n\n\n\n"},"children":[]},{"data":{"id":"bmf2mb4rlzc0","created":1529805017760,"text":"master主分支","note":"主分支, 默认分支, 如果只有一个分支, 那么就是master分支\n"},"children":[]},{"data":{"id":"bmf2mee4h400","created":1529805024856,"text":"dev开发分支","note":"dev分支, 是开发人员开发分支, 日常代码的推送, 都会到dev分支上, dev开发完某个功能, 合并到master分支上\n\n\n\n"},"children":[]},{"data":{"id":"bmf2m8smu000","created":1529805012673,"text":"bug分支","note":"bug出现时, 会创建bug分支, 用于解决临时出现的bug解决, 解决完bug再合并到主分支"},"children":[]},{"data":{"id":"bmfyx1we2js0","created":1529896135185,"text":"hot_fix(热修复分支)"},"children":[]}]},{"data":{"id":"bmg5vsczf340","created":1529915783826,"text":"特殊分支"},"children":[{"data":{"id":"bmg5vvh1kjk0","created":1529915790602,"text":"remotes/origin/master","note":"使用了clone, 或push, 会在本地产生一个origin/master分支, 该分支用于trace 远程的origin/master分支的变化情况,当使用了pull, fetch,后该分支的指针才会更新移动.\n\n#查看\ngit branch -a [-v]\n\nremotes/origin/HEAD -> origin/master\nremotes/origin/master\n\n"},"children":[]}]}]},{"data":{"id":"bm8kcmsjhsg0","created":1529144119782,"text":"git支持的协议","layout":null},"children":[{"data":{"id":"bm8kcqaqt8g0","created":1529144127413,"text":"http (只读)","layout":null},"children":[]},{"data":{"id":"bm8kcv0nwj40","created":1529144137688,"text":"https (只读)","layout":null},"children":[]},{"data":{"id":"bm8kcwtf64w0","created":1529144141603,"text":"ssh (支持读写)","note":"ssh连接\n用户@主机:路径\n\ngit clone root@192.168.0.100:/srv/phptest.git\n\n\n如果某个用户具有ssh权限,对文件读写权限,即可以通过git获取版本,实际中, 服务器建立git账号,将git账号给开发人员!\n\ngroupadd git\nuseradd -g git git\n\n将版本库设置给git用户\nchown -R git:git phptest.git/\n\n为了避免git用户登录系统,通过修改\n/etc/passwd\n把/bin/bash 去掉,换成/bin/git-shell\n","layout":null},"children":[]},{"data":{"id":"bm8kcy9jv7s0","created":1529144144755,"text":"git (只读)","layout":null},"children":[]}]}]},{"data":{"id":"bm501dp616w0","created":1528782135913,"text":"操作","expandState":"expand","layout":null},"children":[{"data":{"id":"bmaeu57upm00","created":1529331685335,"text":"基础操作","expandState":"expand","layout":null},"children":[{"data":{"id":"bmaex57sbps0","created":1529331920423,"text":"初始化版本库","layout":null},"children":[{"data":{"id":"bmaexdh2h0o0","created":1529331938399,"text":"git init","note":"git init 初始化后生成.git目录,不要随便动这个目录\n","layout":null},"children":[]},{"data":{"id":"bmaexezaxts0","created":1529331941678,"text":"git init --bare pro.git","note":"// 服务器端生成裸仓库\ngit init --bare pro.git ","layout":null},"children":[]}]},{"data":{"id":"bmf6ujbofz40","created":1529816946945,"text":"克隆 clone"},"children":[{"data":{"id":"bmf77f5epnc0","created":1529817956593,"text":"参数"},"children":[{"data":{"id":"bmf7di2bq8w0","created":1529818433122,"text":"--bare (表示裸仓库)"},"children":[]},{"data":{"id":"bmf7dqcsrrc0","created":1529818451170,"text":"--barch 分支名 (表示分支)"},"children":[]}]},{"data":{"id":"bmf77ptmxgo0","created":1529817979826,"text":"示例"},"children":[{"data":{"id":"bmf7e2dz6wo0","created":1529818477362,"text":"git clone --branch bug git@58.87.95.128:/srv/shopping.git shopping_bug"},"children":[]},{"data":{"id":"bmf7fgbv7080","created":1529818586074,"text":"git clone --bare --branch bug git@58.87.95.128:/srv/shopping.git shopping_bug"},"children":[]}]}]},{"data":{"id":"bmaezkfelo80","created":1529332110264,"text":"监视或添加文件到暂存区: git add 文件名","layout":null},"children":[]},{"data":{"id":"bmfx7t3aju00","created":1529891335798,"text":"提交","expandState":"expand"},"children":[{"data":{"id":"bm5a0mex2fs0","created":1528810287620,"text":"git commit -m '注释'","note":"一旦提交, 有会有记录一个版本,提交时需要备注, 如果备注太多可直接写\ngit commit \n\n打开的文件vi 编辑备注内容\n\n","layout":null},"children":[]},{"data":{"id":"bmfx7y8qsg80","created":1529891347011,"text":"git commit -m '注释' -a (-a参数已trace的就不用再git add了)"},"children":[]}]},{"data":{"id":"bm5a1b89ars0","created":1528810341636,"text":"git pull origin (从同步远程, 自动合并)","layout":null,"note":"git pull 说明\ngit pull 完成了两个操作\n1) git fetch\n2) git merge\n\n\nfetch 与pull 是读,所以不验证权限\ngithub上公开项目的clone也不会验证权限\n\n\n"},"children":[]},{"data":{"id":"bmg5i5e5wzk0","created":1529914715097,"text":"git fetch [origin master] (从远程拉取到本地,工作区未改变)","note":"# 下载到本地\ngit fetch origin master\n# 切换到origin/master版本\ngit checkout origin/master\n# 可查看到最新的内容\n# 回到本地master分支\ngit checkout master\n# 合并分支\ngit merge origin/master\n\n# 下面两个操作是不联网的\ngit checkout origin/master \ngit merge origin/master \n\n\n"},"children":[]},{"data":{"id":"bm5a0zvk7s00","created":1528810316924,"text":"git push origin master (推送到远程版本库)","layout":null},"children":[]},{"data":{"id":"bmaf6kec41s0","created":1529332658749,"text":"其它","expandState":"expand","layout":null},"children":[{"data":{"id":"bmaf0cr1ya00","created":1529332171918,"text":"撤销监视文件: git rm file [--cached]","note":"git rm file --cached 与git rm file 的使用场景\n\n例:\n当前暂存区是干净的 ,(git status) , 那么可以用 git rm file 也可以用git rm file --cached\n\n\n例:\n当前暂存区不是干净的,要删除的文件,有修改, 此时不能直接使用 git rm , 而是使用 git rm --cached \n\n\ngit rm file 的作用是删除文件,并且将删除事件add 到暂存区\n\ngit rm file --cached,是仅仅把删除事件add 给暂存区, 源始文件并不删除,执行了此命令, git status 查看状态是:\n1)文件被删除的事件在暂存区, 等待提交\n2)这个名的文件处于未跟踪\n\nrm file && git rm file \n以上两句等同于 git rm file\n\n\n\n\n\n\n","layout":null},"children":[]},{"data":{"id":"bmaf4nb0tqo0","created":1529332508350,"text":"重命名文件: git mv oldname newname","note":"如果用 mv oldname newname\ngit status 查看为认为是两条记录\n1) 删除了oldname文件,但没有告知暂存区,还在被跟踪中\n2) 新增一个未被跟踪的文件newname\n\n这两个都不在暂存区上!需要添加到暂存区\ngit rm oldname\ngit add newname\n\n提交时, 会检测到是改名\n\n那么状态里一直会有一个删除oldname文件的记录,需要执行git rm 一下告知不再跟踪这个文件, 以上操作可使用\n\ngit mv oldname newname 命令解决这一切\n\n\n\n\n\n\n","layout":null},"children":[]}]}]},{"data":{"id":"bm5018wwsi80","created":1528782125498,"text":"版本回退及恢复","note":"版本间回退, 是指commit提交后的(当前未提交的版本除外)\n\ngit reset HEAD [file] 中\nHEAD 表示当前待提交的版本\n\n只要是commit过的版本, 都能找回来,可以一直后悔\n\n\n","expandState":"expand","layout":null},"children":[{"data":{"id":"bmaf8dbix1s0","created":1529332800070,"text":"三种回退","expandState":"expand","layout":null},"children":[{"data":{"id":"bm501gujsxc0","created":1528782142769,"text":"硬回退: git reset --hard 版本","note":"硬回退, 暂存区会清干净的, 如果之前有未追踪的文件是不受影响的, 被跟踪的文件, 会回退到之前的版本,被跟踪未提交的文件丢失!\n\n实质:指针回退了,暂存区也同步更新了,工作区也更新了\n\n例: \nmkdir hard\ncd hard\n\ngit init\ntouch a\ngit add a\ngit commit -m 'a'\n\ntouch b\ngit add b\ngit commit -m 'b'\n\ntouch c\ngit add c\n# 不提交\n\ntouch d\n# 不跟踪\n\n# 回退到最新版本 \ngit reset --hard HEAD\n\n结果是\nd 未跟踪\n暂存区干净的\n工作区只有a,b,d (已跟踪未提交的c丢失)\n\n\n用法示例 :\ngit reset --hard 版本号前缀\ngit reset --hard HEAD\ngit reset --hard HEAD^\ngit reset --hard HEAD^^\ngit reset --hard HEAD~1\ngit reset --hard HEAD~2\n\nHEAD 表示当前最新,即b提交后的\nHEAD^  表示上一个版本,即a提交后的\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n","layout":null},"children":[{"data":{"id":"bm8hif7p3gg0","created":1529136110140,"text":"hard回退的恢复","note":"hard 回退导致数据丢失,如果后悔了,如果知道目标的commit-id,可以 --hard 标示, 回退过去\n\n查看回退记录:\ngit reflog\n\n","layout":null},"children":[]}]},{"data":{"id":"bm501kh52s80","created":1528782150665,"text":"软回退: git reset --soft 版本","note":"软回退\n工作区, 不会改变\n之前提交的差异回到暂存区, 待提交,未跟踪的不受影响,还是未跟踪\n\n实质:指针回退,暂存区没有更新,工作区也没有更新, 所以看上去暂存区多了东西\n\n\n例: \ngit init\ntouch a \ngit add a\ngit commit -m 'a'\n\ntouch b\ngit add b \ngit commit -m 'b'\n\ntouch c\ngit add c\n# 不提交c\n\ntouch d\n# 不跟踪d\n\n# 回退一个 即提交a的版本\ngit reset --soft HEAD~1\n\n结果:\n工作区没改变,a,b,c,d都存在\nd 未跟踪\n\n暂存区,待提交: b,c\n\n版本库中只有a\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n","layout":null,"expandState":"expand"},"children":[]},{"data":{"id":"bm501mlh9wg0","created":1528782155281,"text":"混合回退(默认): git reset --mixed 版本号","note":"混合回退:\n暂存区是干净的\n工作区不会丢失文件,退回的文件, 未跟踪\n\n实质:指针回退,暂存区更新了,工作区没有更新, 所以感觉工作区多了东西\n\n\n\n例:\ngit init\ntouch a\ngit add a\ngit commit -m 'a'\n\ntouch b\ngit add b\ngit commit -m 'b'\n\ntouch c\ngit add c\n# 不提交\n\ntouch d\n\ngit reset --mixed HEAD~1\n\n结果:\n版本库中只有a\n暂存区干净的\n工作区 a,b,c,d 其中b,c,d待追踪\n\n\n混合回退,工作区文件add 就跟soft回退一样了\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n","layout":null,"expandState":"expand"},"children":[{"data":{"id":"bm5zfbcv2480","created":1528881966761,"text":"git reset HEAD 文件名 (撤销暂存,从暂存区删掉)","note":"如果已经添加到暂存区了, 又不想提交, 只能从暂存区拿掉, 拿掉后处于未跟踪\n\n\n","layout":null},"children":[]},{"data":{"id":"bm5zu3n5uxs0","created":1528883125432,"text":"git reset HEAD 文件 ;git checkout -- 文件撤销修改","note":"git reset HEAD \t文件名\ngit checkout -- 文件名\n\n\n文件修改了, 并添加到暂存区了, 想撤销到之前, 用上面的两个命令\n\n","layout_left_offset":{"x":-26,"y":-1},"layout":null},"children":[]}]}]},{"data":{"id":"bm8hh1sd19s0","created":1529136002550,"text":"版本","layout":null},"children":[{"data":{"id":"bm8hh4k84k80","created":1529136008588,"text":"HEAD : 最新commit版本","layout":null},"children":[]},{"data":{"id":"bm8hhezpyp40","created":1529136031293,"text":"HEAD^ :表示上一个版本","layout":null},"children":[]},{"data":{"id":"bm8hi1vjqns0","created":1529136081107,"text":"HEAD^^上两个版本","layout":null},"children":[]},{"data":{"id":"bm8hhpjy0k80","created":1529136054284,"text":"HEAD~1:表示上一个版本","layout":null},"children":[]}]},{"data":{"id":"bmaf8sihgz40","created":1529332833142,"text":"恢复","expandState":"expand","layout":null},"children":[{"data":{"id":"bm5ylu4t1yw0","created":1528879656708,"text":"git checkout -- file (撤销, 以暂存区为参考,恢复工作区中的某个文件)","note":"打个比方:\ntouch c\ngit add c \n\nvi c \n写入\"hello world\"\n\n此时想想反悔, 就是回到之前, 正好暂存区有c 还没有commit , 此时执行\ngit checkout -- c\n\n工作区文件c内容就是暂存区快照的内容, 一样的, hello world 内容丢失\n\n\n说明:执行后在暂存区的文件不受影响, 还在的\n\n","layout":null},"children":[]},{"data":{"id":"bmildr7wdyo0","created":1530162628459,"text":"git checkout 分支名 文件或目录 (捡出其它分支的文件)","note":"例:tp5 Application/Common删了\n但未add, 恢复:\ncd Application/\ngit checkout master Common\n\n\n"},"children":[]}]}]}]},{"data":{"id":"bm8iuczpf9k0","created":1529139866783,"text":"中小型公司git搭建","layout_mind_offset":{"x":-668.9999916185034,"y":-1200},"note":"在服务器上初始化版本库,开发人员从服务器获取版本库\n\n初始化服务器端的裸git版本库(没有工作区,只有.git目录)\n\n\n例: 将版本库初始化在/srv\ngit init --bare phptest.git\n\n\n\n","layout":null},"children":[{"data":{"id":"bm8iw6heggo0","created":1529140009344,"text":"初始化裸仓库: git init --bare phptest.git","priority":1,"layout":null},"children":[]},{"data":{"id":"bm8jepbiqcg0","created":1529141460902,"text":"配置用户","priority":2,"layout_left_offset":{"x":-47,"y":1},"note":"# 添加git用户跟组\ngroupadd git\nuseradd -g git git \n\n\n# 设置密码\npasswd git\n\n# 设置目录所有者跟组\nchown -R git:git /srv/phptest.git/\n\n\n# 设置git用户不让登录\n\nvi /etc/passwd \n将/bin/bash 改成/bin/git-shell\n\n\n\n","layout":null},"children":[]},{"data":{"id":"bm8jhngh9b40","created":1529141691941,"text":"开发者克隆: git clone url 别名 ","priority":3,"layout_left_offset":{"x":-43,"y":0},"note":"git clone 用户@IP:/srv/phptest.git\n\n例:\ngit clone git@58.87.95.128:/srv/phptest.git\n\n加入readme.md\n\n","layout":null},"children":[]},{"data":{"id":"bm8knh79t1c0","created":1529144969618,"text":"推送到远程: git push origin master","note":"origin 远程源\nmaster 主分支\n\n","layout":null},"children":[]}]},{"data":{"id":"bma39alhlns0","created":1529299019187,"text":"github","layout_mind_offset":{"x":-186,"y":-576},"layout":null},"children":[{"data":{"id":"bma39h89mf40","created":1529299033625,"text":"操作","layout":null},"children":[{"data":{"id":"bma39rho86g0","created":1529299055961,"text":"在github上直接创建并初始化,本地克隆","layout":null},"children":[]},{"data":{"id":"bma3a106mvs0","created":1529299076672,"text":"github只创建仓库,本地初始化","note":"// 本地创建仓库,初始化后推送上去\n// 仓库不能为空,空推送不上去,可创建一个README.md \n\necho \"# test_1\" >> README.md\ngit init\ngit add README.md\ngit commit -m \"first commit\"\ngit remote add origin https://github.com/var100/test_1.git\ngit push -u origin master\n\n\n\n//推送一个已有仓库\ngit remote add origin https://github.com/var100/test_1.git\ngit push -u origin master\n\n","layout":null},"children":[]}]},{"data":{"id":"bma3cvvjnj40","created":1529299300600,"text":"常见错误","layout":null},"children":[{"data":{"id":"bma3d1f2chc0","created":1529299312664,"text":"本地init的仓库推送不上去","note":"error: src refspec master does not match any.\nerror: failed to push some refs to 'https://github.com/var100/test_1.git'\n\n\n解决: 创建一个文件, 让其不为空, 就OK\n\n","layout":null},"children":[]}]}]},{"data":{"id":"bm8kuqncdk80","created":1529145538730,"text":"多人协作","layout_mind_offset":{"x":-56,"y":-975},"note":"push 前一定要先pull \n\npull会将远程与本地进行合并\n","layout":null},"children":[{"data":{"id":"bm8kv2pfj400","created":1529145564978,"text":"冲突解决","note":"减少冲突的做法\n写代码前进行git pull\n写完代码push 前进行pull\n\n如果有冲突, 必须手动解决, 通过提交版本查询出谁提交的文件,协商,解决冲突即可!\n\n\n有冲突pull会有下面提示\nAuto-merging index.php\nCONFLICT (content): Merge conflict in index.php\nAutomatic merge failed; fix conflicts and then commit the result.\n\n\n如果有冲突, 没有pull,就push 会有下面提示:\nTo git@58.87.95.128:/srv/phptest.git\n ! [rejected]        master -> master (non-fast-forward)\nerror: failed to push some refs to 'git@58.87.95.128:/srv/phptest.git'\nTo prevent you from losing history, non-fast-forward updates were rejected\nMerge the remote changes before pushing again.  See the 'Note about\nfast-forwards' section of 'git push --help' for details.\n\n\n冲入文件:\n<?php\n<<<<<<< HEAD\necho 'haha';\n=======\necho 'hihi';\n>>>>>>> 9f6d16f8a2693522b424ff6addb52f03e0171a49\n\n\n上面是自己的版本,下面是冲突的别人的\n\n\n\n\n\n\n\n\n\n\n","layout":null},"children":[]},{"data":{"id":"bmg8xeu8xeo0","created":1529924374453,"text":"团队以外的人协作开发 fork+pull request","note":"协助方操作:\n1)对方进行fork一份\n2)开发\n3)推送到自己远程版本库\n4)发起pull request\n\n\n项目主方操作:\n1)审查代码\n2)合并代码\n\n\n\n"},"children":[]},{"data":{"id":"bmg8xos49ls0","created":1529924396092,"text":"团队内协作开发","note":"邀请别人加入项目开发,对方同意即拥有权限开发\n\n\n\n"},"children":[]}]},{"data":{"id":"bm8kgfmvddc0","created":1529144417659,"text":"报错问题","layout_mind_offset":{"x":-67,"y":-62},"layout":null},"children":[{"data":{"id":"bm8kgp43fcw0","created":1529144438291,"text":"找不到git-upload","note":"找不到git-upload,但git下有, 可以执行, 解决：\ngit/bin下面的\ngit-upload-pack与\ngit-receive-pack\n\n建立软连接到 /usr/bin/下\n\n\n","layout":null},"children":[]},{"data":{"id":"bm8knsz6fsg0","created":1529144995250,"text":"LF配置","note":"LF警告去掉\ngit config --global Core.autocrlf false\n\n表示不自动转目录分割符, 建议是true\n\n","layout":null},"children":[]},{"data":{"id":"bmj9w85g5eg0","created":1530231782509,"text":"找不到 bash: git-receive-pack: command not found","note":"问题: 推送时报错\n找不到 bash: git-receive-pack: command not found\n\n# 建立软链接git/bin下的git-receive-pack 到/usr/bin/下\nln -s /usr/local/git-2.9.5/bin/git-receive-pack /usr/bin/git-receive-pack\n\n"},"children":[]},{"data":{"id":"bm8l2vy3czs0","created":1529146177177,"text":"push 不上去","note":"remote: error: insufficient permission for adding an object to repository database ./objects\nremote: fatal: failed to write object\nerror: unpack failed: unpack-objects abnormal exit\n\n\n没有权限:\n解决 chown -R git:git phptest.git/","layout":null},"children":[]}]},{"data":{"id":"bm8q8z7h5uw0","created":1529160760010,"text":"git服务器管理","layout_mind_offset":{"x":28,"y":540},"layout":null,"expandState":"expand"},"children":[{"data":{"id":"bm8q98fujqw0","created":1529160780107,"text":"查看","layout":null},"children":[{"data":{"id":"bm8q9aot5x40","created":1529160785002,"text":"查看提交记录","note":"进入到.git目录 执行git log\n\n","layout":null},"children":[]}]},{"data":{"id":"bm8qryjsjmo0","created":1529162247497,"text":"RSA认证","note":"RSA认证, ssh加密数据需要\n\n\nwindows系统在 /c/App/Git/usr/bin/ssh-keygen.exe\n\n运行 ssh-keygen.exe -C \"244013508@qq.com\"\n\n键入密码不需要\n会生成两个文件在 用户家目录/.ssh/\nid.rsa 秘钥\nid.rsa.pub 公钥\n\n公钥需要在服务器, 与git没有关系,跟ssh有关系, \n将id.rsa.pub 告知服务器管理员, 将其加入当前用户/home/git/.ssh/下的authorized_keys 文件中\n一行一个,公钥,配置后自动生效, \n开发者执行clone, pull, push,无需再输入密码\n(只要有这个秘钥,换电脑也不失效!)\n\n\nid.rsa 秘钥放到客户端用户目录/.ssh/中\n\n例:c:/user/admin/.ssh/\n\n\n\nlinux上配置\nlocate ssh-keygen\n找到后,执行\nssh-keygen -C \"邮箱\"\n\n找行后找到其生成的文件目录,\n/root/.ssh/id_rsa.pub\n\n复制公钥内容到下面文件中:\n /home/git/.ssh/authorized_keys\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n","layout":null},"children":[]},{"data":{"id":"bm9dq87ih9s0","created":1529226997321,"text":"建议","layout":null},"children":[{"data":{"id":"bm9dqc8dfls0","created":1529227006081,"text":"统一用户git用户操作","note":"说明:\n把版本库设置为git用户,git组\n\n所有操作人员都使用git用户git组,\n不要有人再使用别的用户,如又有git用户, 又有root用户,导致root用户操作生成的文件git用户又没有权限操作了!\n\n\n","layout":null},"children":[]}]},{"data":{"id":"bm9hetapxoo0","created":1529237387297,"text":"操作","layout":null},"children":[{"data":{"id":"bm9heypt8fs0","created":1529237399094,"text":"删除远程仓库分支: git push origin :dev","layout":null},"children":[]}]}]},{"data":{"id":"bmfd3gx4hnc0","created":1529834573649,"text":"目录结构","expandState":"expand"},"children":[{"data":{"id":"bmfamk3yj340","created":1529827606182,"text":"忽略 .gitignore","note":"忽略 .gitignore文件配置\n\n语法:\n# 所有的conf后缀文件\n*.conf \n\n# 表示main.conf文件要管理\n!main.conf \n\n# 目录\nApplication/Runtime/\n\n开源写好的:\nhttps://github.com/github/gitignore/blob/master\n\n场景:\n比如数据库配置文件,缓存,临时目录, 不需要git管理, 解决, 在项目目录建.gitignore 文件, 将要忽略的文件或目录写在里面, 一行一个\n\n例:\nvendor/\nnode_modules/\nnpm-debug.log\n\n# Laravel 4 specific\nbootstrap/compiled.php\napp/storage/\n\n# Laravel 5 & Lumen specific\npublic/storage\npublic/hot\nstorage/*.key\n.env.*.php\n.env.php\n.env\nHomestead.yaml\nHomestead.json\n\n# Rocketeer PHP task runner and deployment package. https://github.com/rocketeers/rocketeer\n.rocketeer/\n\n"},"children":[]},{"data":{"id":"bmfd3n8skbk0","created":1529834587415,"text":".git"},"children":[{"data":{"id":"bmfd3yuld340","created":1529834612678,"text":"config (项目级别的配置文件)"},"children":[]}]}]},{"data":{"id":"bmgxr2s9qlk0","created":1529994405775,"text":"gitlab","layout_mind_offset":{"x":-1,"y":34.00000000000006}},"children":[{"data":{"id":"bmgxr88uvig0","created":1529994417662,"text":"gitlab搭建"},"children":[]}]}]},"template":"default","theme":"fresh-blue","version":"1.4.43"}